<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>KMIP</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="configure-encryption-for-api-enabled-protection-detection.html" title="Configure Encryption for API-enabled Protection Detection"></link><link rel="next" href="kmip.html#idm46244300311120" title="Enabling On-Premises Key Management for the Netskope Cloud"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': 
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); 
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="network-security.html">Network Security</a></li><li class="breadcrumb-link"><a href="real-time-protection.html"><span class="phrase">Real-time Protection</span></a></li><li class="breadcrumb-link"><a href="encryption.html">Encryption</a></li><li class="breadcrumb-node">KMIP</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="configure-encryption-for-api-enabled-protection-detection.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="kmip.html#idm46244300311120">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-78902968-a529-a5b5-87e3-55e00c1ecaf3" data-permalink="kmip.html" data-topic-level="1" data-relative-prefix="" data-time-modified="July 28, 2020" data-publication-date="" id="UUID-ec952cca-1d16-f132-ab05-155486dbab94"><div class="titlepage"><div><div class="title"><h5 class="title">KMIP</h5></div></div></div><p>Netskope offers a complete cloud encryption solution that includes a full-fledged Key Management service based on FIPS 140-2 Level 3 certified HSMs.</p><p>Customers that want to leverage their existing Key Management infrastructure can use their KMIP-compliant HSMs to retain full control of the Keys.</p><p>Secure Forwarder is Netskope's versatile virtual appliance footprint will be used to establish a channel between the Netskope Cloud, where encryption will happen, and the on premises key managers. The security and reliability of this channel is paramount, as Netskope does not retain the keys that are indispensable for the encryption and decryption processes.</p><p></p><p>These sections describe the steps required to deploy Secure Forwarder and the associated configuration necessary to enable the Netskope On-Premises Key Management option.</p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idm46244300311120"><div class="titlepage"><div><div class="title"><h6 class="title">Enabling On-Premises Key Management for the Netskope Cloud</h6></div></div></div><p>Netskope's encryption service uses the integrated key management service in the cloud by default. Transitioning to the On-Premises Key Management option is straightforward, but must be initiated via a <a class="link" href="mailto:support@netskope.com" target="_blank">Support</a> request if it was not done during initial onboarding.</p></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idm46244300310752"><div class="titlepage"><div><div class="title"><h6 class="title">Installing the KMIP Forwarder Virtual Appliance</h6></div></div></div><p>In order to provide secure and resilient real-time access to the keys, KMIP forwarding should be enabled on a pair of Secure Forwarder virtual appliances. Although Secure Forwarder can be used for multiple deployment options and diverse functionality can be combined, for the purpose of this document it is assumed they are dedicated to KMIP forwarding.</p></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idm46244300309024"><div class="titlepage"><div><div class="title"><h6 class="title">Prerequisites</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Download a VA package from <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; On-Premises Infrastructure</strong></span> to a local disk to start the onboarding process.</p></li><li class="listitem"><p>Before running the downloaded VA, make sure you have at least 8 CORES, 32GB of RAM and 196GB of disk space.</p></li><li class="listitem"><p>Downloading the VA zip file requires 7 GB of free space, plus you must unzip the file using 7zip. Using another tool creates a false error saying 789 PB of space is required.</p></li><li class="listitem"><p>KMIP forwarding requires the following ports to be opened.</p><div dir="ltr" class="note" id="UUID-ec952cca-1d16-f132-ab05-155486dbab94_DomainNameChange"><h3 class="title">Note</h3><p>In release 46 domain names changed. Existing deployments (release 45 and prior) do not require the new domain names, but using them are recommended. New deployments with release 46 and higher do need to use the new domain names.</p></div><p>For management connectivity:</p><div class="informaltable table-responsive"><table class="informaltable table-bordered"><colgroup><col></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Domain</p></th><th class="th" data-priority="1"><p>Description</p></th><th class="th" data-priority="1"><p>Port</p></th></tr></thead><tbody><tr><td class="td"><p>New:<code class="literal">config-<span class="emphasis"><em>&lt;tenant hostname&gt;</em></span>.goskope.com</code></p><p>Old: <code class="literal">config.goskope.com</code></p></td><td class="td"><p>Use for configuration updates. The domain needs to be SSL <span class="phrase">allowlisted</span> if you have SSL decryption enabled.</p></td><td class="td"><p>443</p></td></tr><tr><td class="td"><p>New: <code class="literal">messenger-<span class="emphasis"><em>&lt;tenant hostname&gt;</em></span>.goskope.com </code></p><p>Old: <code class="literal">messenger.goskope.com </code></p></td><td class="td"><p>Use for reporting and status updates in the UI. The domain needs to be SSL <span class="phrase">allowlisted</span> if you have SSL decryption enabled.</p></td><td class="td"><p>443</p></td></tr><tr><td class="td"><p>New: <code class="literal">callhome-<span class="emphasis"><em>&lt;tenant hostname&gt;</em></span>.goskope.com </code></p><p>Old: <code class="literal">callhome.goskope.com </code></p></td><td class="td"><p>Use for receiving metrics from on-premises appliances and forwarding them to cloud tenants, as well as receiving event data from an on-premises dataplane appliances. Also for receiving custom user attributes from user endpoints. The domain needs to be SSL <span class="phrase">allowlisted</span> if you have SSL decryption enabled.</p></td><td class="td"><p>443</p></td></tr></tbody></table></div><div dir="ltr" class="note" id="UUID-ec952cca-1d16-f132-ab05-155486dbab94_InternationalDeploymentDomains"><h3 class="title">Note</h3><p>For international deployments, use ~ <code class="literal">-<span class="emphasis"><em>&lt;tenant hostname&gt;</em></span>.eu.goskope.com</code> or ~ <code class="literal">-<span class="emphasis"><em>&lt;tenant hostname&gt;</em></span>.de.goskope.com</code>.</p></div><p>For KMIP over SSH tunnel connectivity:</p><div class="informaltable table-responsive"><table class="informaltable table-bordered"><colgroup><col></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Domain Name</p></th><th class="th" data-priority="1"><p>Port</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">remotesvc-<span class="emphasis"><em>&lt;tenant hostname&gt;</em></span>.goskope.com </code></p><p>For deployments with release 45 or lower, use <code class="literal">remotesvc.goskope.com </code></p></td><td class="td"><p>22</p></td></tr></tbody></table></div></li></ul></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-ec952cca-1d16-f132-ab05-155486dbab94">KMIP</a></li><li><a href="#idm46244300311120">Enabling On-Premises Key Management for the Netskope Cloud</a></li><li><a href="#idm46244300310752">Installing the KMIP Forwarder Virtual Appliance</a></li><li><a href="#idm46244300309024">Prerequisites</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22KMIP%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22KMIP%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="configure-encryption-for-api-enabled-protection-detection.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="kmip.html#idm46244300311120">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">July 28, 2020</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
