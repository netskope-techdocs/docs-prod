<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Private Apps Configuration Methods</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="about-netskope-private-access.html" title="About Netskope Private Access"></link><link rel="next" href="private-apps-configuration-methods.html#idm46450373415584" title="Private Apps - DNS"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="traffic-management.html">Traffic Management</a></li><li class="breadcrumb-link"><a href="netskope-private-access.html">Netskope Private Access</a></li><li class="breadcrumb-link"><a href="netskope-private-access-user-guide.html"><span class="phrase">Netskope Private Access</span><span class="phrase"> User Guide</span></a></li><li class="breadcrumb-node">Private Apps Configuration Methods</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="about-netskope-private-access.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="private-apps-configuration-methods.html#idm46450373415584">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-a808b129-465d-02cc-cf41-a138e82ce92d" data-permalink="private-apps-configuration-methods.html" data-topic-level="1" data-relative-prefix="" data-time-modified="June 16, 2021" data-publication-date="" id="UUID-6f154093-83c2-6b15-ab70-baee962af7a5"><div class="titlepage"><div><div class="title"><h5 class="title">Private Apps Configuration Methods</h5></div></div></div><p>This topic explains how to configure Private Apps for DNS, domain controllers, and SMB/CIFS file shares.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46450373415584"><div class="titlepage"><div><div class="title"><h6 class="title">Private Apps - DNS</h6></div></div></div><p>The Private App configuration allows for DNS requests to be sent over the Private Access connection for any host within the domain and resolve the hosts back to an IP. This also applies for the many obscure subdomains required to query for domain joins, group policy queries, and FSMO role owner lookups. </p><p>A port definition is required when defining a Private App. For this definition, we do not care what port is defined because with Publisher DNS enabled, it will be handling the traffic. Because this requires something to be defined, we will use post 53.</p><p>The <code class="literal">_gc._tcp.domain.com</code> and <code class="literal">_ldap._tcp._sites.DomainDnsZones.domain.com</code> addresses will always resolve back to one (or more) domain controllers, and the domain specification without the wildcard is required for CIFS connectivity to the domain (again, always one of the domain controllers), when pulling group policy updates. This is the easiest configuration method without having to define all of the possible things a client machine might try to access.</p><p><span class="bold bold"><strong>Host</strong></span></p><pre class="programlisting">*.domain.com
domain.com</pre><p><span class="bold bold"><strong>Protocol &amp; Port</strong></span></p><pre class="programlisting">UDP 53</pre><p><span class="bold bold"><strong>Publisher</strong></span></p><p>Whatever is relevant for domain machines.</p><p><span class="bold bold"><strong>Publisher DNS</strong></span></p><pre class="programlisting">enabled</pre></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46450373418160"><div class="titlepage"><div><div class="title"><h6 class="title">Private Apps - Domain Controllers</h6></div></div></div><p>The Private App configuration takes the previously resolved IP from the DNS lookup, and steers based on that. You provide all of the possible Domain Controllers’ IP’s here. You can also specify the shortform netbios name here as well if you wish, such as DC01, but you don’t use the FQDN.</p><p><span class="bold bold"><strong>Host</strong></span></p><pre class="programlisting">x.x.x.x (List of Domain Controller IPs)
DC01 (netbios name)</pre><p><span class="bold bold"><strong>Protocol &amp; Port</strong></span></p><p><span class="emphasis"><em>TCP</em></span></p><pre class="programlisting">88,135,137,139,389,464,636,1512,3268,3269,5357,49152-65535
</pre><p><span class="emphasis"><em>UDP</em></span></p><pre class="programlisting">88,123,135,137,138,389,464,1512,5357</pre><p><span class="bold bold"><strong>Publisher</strong></span></p><p>Whatever is relevant for domain machines.</p><p><span class="bold bold"><strong>Publisher DNS</strong></span></p><pre class="programlisting">disabled</pre><p>Port breakdown is as follows:</p><p><span class="emphasis"><em>TCP</em></span></p><p><code class="literal">88</code> - Kerberos query
<code class="literal">135</code> - Remote Procedure call
<code class="literal">137</code> - NetBIOS name
<code class="literal">139</code> - Netbios session
<code class="literal">389</code> - LDAP (plain text)
<code class="literal">464</code> - Kerberos password change
<code class="literal">636</code> - LDAP (secure) - might not be required.
<code class="literal">1512</code> - WINS - might not be required.
<code class="literal">3268</code> - LDAP to Global Catalog
<code class="literal">3269</code> - LDAP to Global Catalog (secure) - might not be required.
<code class="literal">5357</code> - Network Discovery - might not be required.
<code class="literal">49152-65535</code> - Upper range ephermal ports. Required... Sadly. Domain integration only requires TCP.</p><p><span class="emphasis"><em>UDP</em></span></p><p><code class="literal">88</code> - Kerberos query
<code class="literal">123</code> - NTP - used to set client time from domain controllers
<code class="literal">135</code> - Remote Procedure call
<code class="literal">137</code> - NetBIOS name
<code class="literal">138</code> - NetBIOS datagram
<code class="literal">389</code> - LDAP (plain text)
<code class="literal">464</code> - Kerberos password change
<code class="literal">1512</code> - WINS - might not be required.
<code class="literal">5357</code> - Network Discovery - might not be required.</p><p>Note that SMB isn’t covered in this. Because file servers are typically addressable by all users, we normally split this out into a seperate application, and you’ll then be able to add any non-domain controller machines into it as well.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm46450373407072"><div class="titlepage"><div><div class="title"><h6 class="title">Private Apps - SMB/CIFS</h6></div></div></div><p>You may also want a separate method for the Remote Desktop Access to the machines. This depends on how your business operates, but typically you’ll have a single app with an individual server IPs specified within it for port <code class="literal">3389</code>, and if you have users that access a service on a different server (Citrix for instance), you define that separately. </p><p>So you might have an app entitled Remote Desktop - Admins, and an app entitled Remote Desktop - Users. From a policy standpoint, you’d assign the admins both of these apps by group, and the users (just relevant one). The other defined methods above would be applied to All users.</p><p><span class="bold bold"><strong>Host</strong></span></p><pre class="programlisting">x.x.x.x (List of File Server IPs)
fileserver01 (netbios name)</pre><p>Also any other file servers specified by IP and netbios name.</p><pre class="programlisting">10.104.120.221
fileserver01</pre><p><span class="bold bold"><strong>Protocol &amp; Port</strong></span></p><p>TCP </p><pre class="programlisting">445</pre><p><span class="emphasis"><em>UDP</em></span></p><pre class="programlisting">445</pre><p><span class="bold bold"><strong>Publisher</strong></span>
Whatever is relevant for domain machines.</p><p><span class="bold bold"><strong>Publisher DNS</strong></span></p><pre class="programlisting">disabled</pre></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-6f154093-83c2-6b15-ab70-baee962af7a5">Private Apps Configuration Methods</a></li><li><a href="#idm46450373415584">Private Apps - DNS</a></li><li><a href="#idm46450373418160">Private Apps - Domain Controllers</a></li><li><a href="#idm46450373407072">Private Apps - SMB/CIFS</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Private%20Apps%20Configuration%20Methods%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Private%20Apps%20Configuration%20Methods%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="about-netskope-private-access.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="private-apps-configuration-methods.html#idm46450373415584">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">June 16, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
