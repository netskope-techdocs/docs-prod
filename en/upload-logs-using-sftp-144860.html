<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Upload Logs using SFTP</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="configure-the-log-parser.html" title="Configure the Log Parser"></link><link rel="next" href="upload-logs-using-sftp-144860.html#idm44981367476032" title="Upload Logs with Windows using SFTP"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="appliances.html">Appliances</a></li><li class="breadcrumb-link"><a href="virtual-appliance.html"> Virtual Appliance</a></li><li class="breadcrumb-link"><a href="configure-the-log-parser.html">Configure the Log Parser</a></li><li class="breadcrumb-node">Upload Logs using SFTP</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="configure-the-log-parser.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="upload-logs-using-sftp-144860.html#idm44981367476032">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-3026f38b-e5c4-b5db-0124-693cbab90293" data-permalink="upload-logs-using-sftp-144860.html" data-topic-level="1" data-relative-prefix="" data-time-modified="November 24, 2020" data-publication-date="" id="UUID-2adb8068-4a24-a030-ebd5-4a0542f52a01"><div class="titlepage"><div><div class="title"><h5 class="title">Upload Logs using SFTP</h5></div></div></div><p>SFTP is an interactive way to upload log files, which helps you get familiarized with the overall process before automating it using SCP.</p><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idm44981367476032"><div class="titlepage"><div><div class="title"><h6 class="title">Upload Logs with Windows using SFTP</h6></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure your log files have the <code class="literal">.log</code> extension. If using an archive (zip), you can only have one log file per archive.</p></li><li class="listitem"><p>You will need an SFTP client. If you are familiar with using private key files and/or have another PSFTP client, you can skip to step 5 below. To download a SFTP client, go to <a class="link" href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/download.html" target="_blank" rel="noopener">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a> and download the following files:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>PSFTP: PuTTY SFTP client</p></li><li class="listitem"><p>PuTTY gen: PuTTY key generator</p></li></ul></div></li><li class="listitem"><p>Download the private key from the Netskope tenant UI under <span class="bold bold"><strong>Settings &gt; <span class="phrase">Risk Insights</span> &gt; Log &gt; Upload</strong></span>.</p></li><li class="listitem"><p>After you have the private key, you need to convert it to a format that PuTTy understands. To do this, launch the file <code class="literal">puttygen.exe</code> and click the Load button to select the private key file downloaded from the Netskope Administrator UI in step 3 above. Next click the Save Private Key button to convert the key file to a <code class="literal">.ppk</code> file that can be used for the PuTTY SFTP client. Remember the location for this key since we will need it in the next step.</p></li><li class="listitem"><p>From a command prompt, change to the directory where the converted <code class="literal">.ppk</code> key file resides, and then enter this command using the username provided in the Admin UI on the <span class="bold bold"><strong>Log &gt; Upload</strong></span> page: <code class="literal">psftp -i customerprivatekey.ppk nstransfer@<span class="emphasis"><em>&lt;Management Plane appliance IP address&gt;</em></span></code></p></li><li class="listitem"><p>When connected, go to the <code class="literal">upload</code> directory (<code class="literal">cd upload</code>). Next, go to the directory for the device used for generating the log file in the first step.</p><p>For example, if using Cisco IronPort, you would need to use the <code class="literal">cisco-wsa</code> directory (<code class="literal">cd cisco-wsa</code>).</p><p>If using Blue Coat logs, you would need to use the <code class="literal">proxysg-http-main</code> directory (<code class="literal">cd proxysg-http-main</code>).</p><p>If using a custom parser, use the directory named <code class="literal">custom-<span class="emphasis"><em>&lt;custom parser name&gt;</em></span></code>, where <code class="literal"><span class="emphasis"><em>&lt;custom parser name&gt;</em></span></code> is the name on the Custom Tab in the Upload Log File dialog box in the Netskope UI (<span class="bold bold"><strong>Settings &gt; <span class="phrase">Risk Insights</span> &gt; Log &gt; Upload &gt; Upload Logs</strong></span>). In this case, the directory name would be <code class="literal">custom-test_1_parser</code>.</p></li><li class="listitem"><p>Upload the log file(s) using the <code class="literal">mput</code> command (<code class="literal">mput /logs/cisco-ironport.log</code>)</p></li><li class="listitem"><p>After the logs are uploaded, it will take some time for the system to parse the logs and show events in SkopeIT. The larger the log files, the more time it will take.</p></li></ol></div></section><section dir="ltr" class="section internal internal" data-origin-id="" data-publication-date="" id="idm44981367479904"><div class="titlepage"><div><div class="title"><h6 class="title">Upload Logs with Mac or Linux using SFTP</h6></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure your log files have the <code class="literal">.log</code> extension. If using an archive (zip), you can only have one log file per archive.</p></li><li class="listitem"><p>Download the private key from the Netskope Administrator interface.</p></li><li class="listitem"><p>You may need to change permissions of the private key file to restrict access. Enter this command to change permissions of the downloaded private key file:<code class="literal">chmod 600 customer_sshkey.key</code></p></li><li class="listitem"><p>Launch a terminal window and establish an SFTP connection to the management plane appliance IP <code class="literal">cd upload</code> Address, specifying the directory where the downloaded private key resides. Next enter this command using the username provided in the Admin UI on the <span class="bold bold"><strong>Log &gt; Upload</strong></span> page: <code class="literal">sftp -i /privatekey/customer_sshkey.key nstransfer@<span class="emphasis"><em>&lt;Management Plane appliance IP address&gt;</em></span></code></p></li><li class="listitem"><p>When connected, go to the <code class="literal">upload</code> directory (). Next, go to the directory for the device used for generating the log file in the first step. For example, if using Cisco IronPort, you would need to use the <code class="literal">cisco-wsa</code> directory (<code class="literal">cd cisco-wsa</code>). If using Blue Coat logs, go to '<code class="literal">proxysg-http-main</code>' (<code class="literal">cd proxysg-http-main</code>).</p></li><li class="listitem"><p>Upload the log file(s) using the <code class="literal">mput</code> command (<code class="literal">mput /logs/cisco-ironport.log</code>)</p></li><li class="listitem"><p>After the logs are uploaded, it will take some time for the system to parse the logs and show events in SkopeIT. The larger the log files, the more time it will take.</p></li></ol></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-2adb8068-4a24-a030-ebd5-4a0542f52a01">Upload Logs using SFTP</a></li><li><a href="#idm44981367476032">Upload Logs with Windows using SFTP</a></li><li><a href="#idm44981367479904">Upload Logs with Mac or Linux using SFTP</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Upload%20Logs%20using%20SFTP%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Upload%20Logs%20using%20SFTP%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="configure-the-log-parser.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="upload-logs-using-sftp-144860.html#idm44981367476032">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">November 24, 2020</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
