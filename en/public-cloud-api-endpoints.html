<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Public Cloud API Endpoints</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="public-cloud-rest-apis.html" title="Public Cloud REST APIs"></link><link rel="next" href="api-enabled-protection.html" title="API-enabled Protection"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script async="" src="https://www.googletagmanager.com/gtag/js?id=256425220"></script><script type="text/javascript">var propertyid = '256425220';

						window.dataLayer = window.dataLayer || [];
						function gtag(){dataLayer.push(arguments)};
						gtag('js', new Date());
						
						gtag('config', propertyid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="network-security.html">Network Security</a></li><li class="breadcrumb-link"><a href="netskope-public-cloud-security.html"><span class="phrase">Netskope Public Cloud Security</span></a></li><li class="breadcrumb-link"><a href="public-cloud-rest-apis.html">Public Cloud REST APIs</a></li><li class="breadcrumb-node">Public Cloud API Endpoints</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="public-cloud-rest-apis.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="api-enabled-protection.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-c91377e9-53ca-c5b0-4874-5cec517d489e" data-permalink="public-cloud-api-endpoints.html" data-topic-level="1" data-relative-prefix="" data-time-modified="February 10, 2021" data-publication-date="" id="UUID-d4b255de-4a3a-f2d6-04dd-39fcc482af98"><div class="titlepage"><div><div class="title"><h5 class="title">Public Cloud API Endpoints</h5></div></div></div><p>These REST API endpoints enable you to manage public cloud infrastructure instances, bucket list storage constraint profiles, start an CSA scan, and view security assessment violations, plus inventory and bucket lists.</p><p>The sections in this topic include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-f0982e00-df68-96b2-50c7-ac19e8600286" title="Get Prep Info to Create an AWS Role"><span class="xreftitle">Get Prep Info to Create an AWS Role</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-1016893d-4ee2-3f50-d669-cbe3b4487713" title="Create an AWS Instance"><span class="xreftitle">Create an AWS Instance</span></a></p></li><li class="listitem"><p><a class="xref linktextconsumer" href="/document/preview/149254#UUID-086a5357-705b-55a8-2a45-2fd5e5260e38" target="_blank">Create an Azure Instance</a><span id="UUID-d4b255de-4a3a-f2d6-04dd-39fcc482af98_N6024ab59a9337" class="linktextprovider linktextprovider" style="display:none !important;">Create an Azure Instance</span></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-73a37a88-afaa-3d02-9e22-6df0dbc256f8" title="Create a Google Cloud Platform Instance"><span class="xreftitle">Create a Google Cloud Platform Instance</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-56a7bbf8-8e5c-7207-0eb5-2bcf8b27c147" title="Grant Netskope to Access an IaaS Instance"><span class="xreftitle">Grant Netskope to Access an IaaS Instance</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-ead6741c-b0a0-e685-8958-675d3ae3e873" title="Get Instance Info"><span class="xreftitle">Get Instance Info</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-f3cf8481-2f28-32a6-4e07-60e571637253" title="Update an AWS Instance"><span class="xreftitle">Update an AWS Instance</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-c65c85da-5da6-efeb-2e9d-3d5826501ae6" title="Update an Azure Instance"><span class="xreftitle">Update an Azure Instance</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-d141210c-8a8c-27cb-81a2-d0a6f05a7fda" title="Update a GCP Instance"><span class="xreftitle">Update a GCP Instance</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-08204929-df44-e98a-de93-e56433c20457" title="Delete an IaaS Instance"><span class="xreftitle">Delete an IaaS Instance</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-e0de0d81-6dd7-1c63-b1a0-7a501cf68a35" title="Manage Multiple AWS Accounts"><span class="xreftitle">Manage Multiple AWS Accounts</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-c9fac20b-4a34-118f-d908-ca1310a0b93b" title="Manage a Bucket List for a Constraint Profile"><span class="xreftitle">Manage a Bucket List for a Constraint Profile</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-82eda397-113f-0eb0-0b16-04895853d41a" title="Import and Export CSA Custom Rules"><span class="xreftitle">Import and Export CSA Custom Rules</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-9183d801-ad3f-d370-73bf-945eec4a4cb0" title="Evaluate Custom Rules"><span class="xreftitle">Evaluate Custom Rules</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-5fe0cc41-0c91-298d-2724-3231157fa61d" title="Start a CSA Scan"><span class="xreftitle">Start a CSA Scan</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-e7299f62-dfd4-27f6-6567-e559207f23db" title="Get a CSA Scan Status"><span class="xreftitle">Get a CSA Scan Status</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-ecdc9b2f-6f77-c0ed-3e63-7ec8290127d2" title="View Security Assessment Violations"><span class="xreftitle">View Security Assessment Violations</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-08f17876-24ca-3282-af84-b991dbf6de06" title="View Cloud Provider Inventory"><span class="xreftitle">View Cloud Provider Inventory</span></a></p></li><li class="listitem"><p><a class="xref" href="public-cloud-api-endpoints.html#UUID-e46fbc5d-6519-1021-6078-c84cee2da04a" title="View a Bucket List"><span class="xreftitle">View a Bucket List</span></a></p></li></ul></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-3344b5ca-37a6-1905-3664-6c2a61f19427" data-time-modified="May 15, 2020" data-publication-date="" id="UUID-f0982e00-df68-96b2-50c7-ac19e8600286"><div class="titlepage"><div><div class="title"><h6 class="title">Get Prep Info to Create an AWS Role</h6></div></div></div><p>This endpoint provides the info needed to create a role in your AWS app. If you do not already have an existing AWS role, you need get the prep info to create a role.</p><h7 id="UUID-f0982e00-df68-96b2-50c7-ac19e8600286_bridgehead-5c8c4261afe8d-idm45681585007440" class="bridgehead">Request</h7><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=get_aws_role_prep_info</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col align="left"></col><col align="left"></col><col align="left"></col><col align="left"></col></colgroup><thead><tr><th class="th leftcol" data-priority="1"><p><span class="strong strong"><strong>Key</strong></span></p></th><th class="th leftcol" data-priority="1"><p><span class="strong strong"><strong>Type </strong></span></p></th><th class="th leftcol" data-priority="1"><p><span class="strong strong"><strong>Value</strong></span></p></th><th class="th leftcol" data-priority="1"><p><span class="strong strong"><strong>Validation</strong></span></p></th></tr></thead><tbody><tr><td class="td leftcol"><p><code class="literal">use_for</code></p></td><td class="td leftcol"><p>array</p></td><td class="td leftcol"><p>Any of the possible use_for supported by AWS.</p><p><code class="literal">"introspection" | "malware" | "securityscan"</code></p></td><td class="td leftcol"><p>Must not be empty array.</p><p>Items in array must be supported by AWS.</p><p>If <code class="literal">"malware"</code> is used, <code class="literal">introspection</code> must be also supplied.</p></td></tr></tbody></table></div><h7 id="UUID-f0982e00-df68-96b2-50c7-ac19e8600286_bridgehead-5c8c42a99f12d-idm45681585130800" class="bridgehead">Response</h7><p>Responses for AWS are as follows: </p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p>account_id</p></td><td class="td"><p>Netskope account ID</p></td></tr><tr><td class="td"><p>external_ID</p></td><td class="td"><p>Netskope external ID</p></td></tr><tr><td class="td"><p>permissions</p></td><td class="td"><p>"&lt;<code class="literal">json_string&gt;</code>" or "&lt;<code class="literal">instruction</code>". Permission needed. Value is based of the combination in "<code class="literal">use_for</code>" supplied in the request.</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-0e4a5911-5e06-a48d-2167-f3e666d55f39" data-time-modified="May 15, 2020" data-publication-date="" id="UUID-1016893d-4ee2-3f50-d669-cbe3b4487713"><div class="titlepage"><div><div class="title"><h6 class="title">Create an AWS Instance</h6></div></div></div><p>This endpoint creates an AWS instance.</p><h7 id="UUID-1016893d-4ee2-3f50-d669-cbe3b4487713_bridgehead-5c8c49446e540-idm45260648722768" class="bridgehead">Request</h7><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=&lt;token&gt;&amp;op=create</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">"aws"</code></p></td><td class="td"><p>Required.  When  <code class="literal">aws</code>, all required fields below must be are supplied.  The combined IaaS instances must not exceed 200, the default max. To have the max increased, contact Netskope Support.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> Example: <code class="literal">"MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The AWS instance name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">role_arn</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;arn_aws_iam_role_name&gt;</em></span></code></p><p>Example: <code class="literal">"arn:aws:iam::202763083689:role/MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The ARN role name for the AWS account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">trail_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;cloudtrail_name&gt;</code></p><p>Example: <code class="literal">"MYAWS_GOTASKOPE_TRAIL"</code></p></td><td class="td"><p>Required for <code class="literal">"introspection"</code> and <code class="literal">"malware"</code>. The trail name for the AWS account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">trail_region</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;aws_region_id&gt;</code></p><p>Example: <code class="literal">"ap-south-1"</code></p></td><td class="td"><p>Required. The trail region for the AWS account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">admin_email</code></p></td><td class="td"><p>sting</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;emailaddress@company.com&gt;</code></p><p>Example: <code class="literal">admin@neskope.com</code></p></td><td class="td"><p>Required. The admin's email address.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p> <code class="literal">"introspection" |</code> <code class="literal">"malware"</code> | <code class="literal">"securityscan"</code></p><p>Example: <code class="literal">["malware","introspection"]</code></p></td><td class="td"><p>Required. Must not be an empty array. Items in the array must be supported by AWS. If it contains <code class="literal">"malware"</code> or <code class="literal">"introspection"</code>, must be also supplied.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>To use <code class="literal">introspection</code>, <code class="literal">malware</code>, and <code class="literal">securityscan</code>, first contact Netskope Support to have this feature enabled.</p></div></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>In minutes. Example: <code class="literal">1440</code></p></td><td class="td"><p>When used for <code class="literal">"securityscan"</code>, must be a value allowed by available intervals.</p><p>If omitted, default value is the internally defined default value based on the app.</p></td></tr></tbody></table></div><h7 id="UUID-1016893d-4ee2-3f50-d669-cbe3b4487713_bridgehead-5c8c49c8886da-idm45260648702320" class="bridgehead">Response</h7><p>Responses for AWS are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p></p></th><th class="th" data-priority="1"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p></p></td><td class="td"><p><code class="literal">aws</code></p></td></tr><tr><td class="td"><p><code class="literal">instance</code></p></td><td class="td"><p><code class="literal">account_id</code></p></td><td class="td"><p>Netskope account ID</p></td></tr><tr><td class="td"><p></p></td><td class="td"><p><code class="literal">external_id</code></p></td><td class="td"><p>Netskope external ID</p></td></tr><tr><td class="td"><p></p></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code></p></td></tr><tr><td class="td"><p></p></td><td class="td"><p><code class="literal">permission</code></p></td><td class="td"><p>Permission needed</p><p><code class="literal">"<span class="emphasis"><em>&lt;json_string&gt;</em></span>"</code> or <code class="literal">"<span class="emphasis"><em>&lt;instruction&gt;</em></span>" </code></p><p>Value is based on the combination in <code class="literal">"use_for"</code> supplied in the request.</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-63b5f044-a03f-d7b0-fdc5-93f2ed3f0eaa" data-time-modified="May 15, 2020" data-publication-date="" id="UUID-73a37a88-afaa-3d02-9e22-6df0dbc256f8"><div class="titlepage"><div><div class="title"><h6 class="title">Create a Google Cloud Platform Instance</h6></div></div></div><p>This endpoint creates an Google Cloud Platform instance.</p><h7 id="idp145959" class="bridgehead">Request</h7><pre class="programlisting">POST https://tenant.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=create</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"googlecloud"</code></p></td><td class="td"><p>Required. When <code class="literal">googlecloud</code>, all required fields below must be are supplied. </p><p>The combined IaaS instances must not exceed 200, the default max. To have the max increased, contact Netskope Support.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code></p><p>Example: <code class="literal">"MYGCP_GOSKOPE"</code></p></td><td class="td"><p>Required. The GCP instance name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code class="literal">service_account_info</code></p></td><td class="td"><p>JSON</p></td><td class="td"><p>Private Key JSON</p></td><td class="td"><p>Required. Must not be empty.</p></td></tr><tr><td class="td"><p><code class="literal">sink_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;sink_name&gt;</em></span></code></p><p>Example: <code class="literal">"organizations/946821861782/sinks/ns-org-sink-3-end"</code></p></td><td class="td"><p>Sink name should be in this format: <code class="literal">"organizations/<span class="emphasis"><em>&lt;orgID&gt;</em></span>/sinks/<span class="emphasis"><em>&lt;sinkId&gt;</em></span>"</code></p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;emailaddress@company.com&gt;</em></span></code></p><p>Example: <code class="literal">admin@neskope.com</code></p></td><td class="td"><p>Required. The admin's email address.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p><code class="literal">"securityscan"</code></p><p>Example: <code class="literal">"securityscan"]</code></p></td><td class="td"><p>Required. Must not be empty array. Items in the array must be supported by GCP.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>In minutes. Example: <code class="literal">1440</code></p></td><td class="td"><p>When used for <code class="literal">"securityscan"</code>, must be a value allowed by available intervals.</p><p>If omitted, default value is the internally defined default value based on the app.</p></td></tr></tbody></table></div><h7 id="idp146074" class="bridgehead">Response</h7><p>Responses for Google Cloud Platform are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p></p></th><th class="th" data-priority="1"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p></p></td><td class="td"><p><code class="literal">googlecloud</code></p></td></tr><tr><td class="td"><p><code class="literal">instance</code></p></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> (Instance name in Netskope UI)</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-d9178a4d-3b0a-5986-3433-80e8b74c934e" data-time-modified="September 6, 2019" data-publication-date="" id="UUID-56a7bbf8-8e5c-7207-0eb5-2bcf8b27c147"><div class="titlepage"><div><div class="title"><h6 class="title">Grant Netskope to Access an IaaS Instance</h6></div></div></div><p>This endpoint allows Netskope to access the IaaS instance.</p><h7 id="UUID-56a7bbf8-8e5c-7207-0eb5-2bcf8b27c147_bridgehead-5c91c02059f5e-idm45681583207968" class="bridgehead">Request</h7><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=grant</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p><code class="literal">aws</code> | <code class="literal">azure</code> | <code class="literal">googlecloud</code></p></td><td class="td"><p>Specifies the IaaS to be accessed. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> Example: <code class="literal">"MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The IaaS instance name in the Netskope UI.</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-9f3629c0-36d6-7eae-8a1e-027ea14c41c5" data-time-modified="October 1, 2019" data-publication-date="" id="UUID-ead6741c-b0a0-e685-8958-675d3ae3e873"><div class="titlepage"><div><div class="title"><h6 class="title">Get Instance Info</h6></div></div></div><p>This endpoint gets information about your IaaS instance.</p><h7 id="idp146155" class="bridgehead">Request</h7><pre class="programlisting">GET https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;<span class="emphasis"><em>&lt;parameters&gt;</em></span></pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p><code class="literal">aws</code> | <code class="literal">azure</code> | <code class="literal">googlecloud</code></p></td><td class="td"><p>Specifies the IaaS to be accessed. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> Example: <code class="literal">"MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The IaaS instance name in the Netskope UI.</p></td></tr></tbody></table></div><h7 id="idp146197" class="bridgehead">Response</h7><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:20%;"></col><col style="width:25%;"></col><col style="width:15%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p><span class="strong strong"><strong>Key</strong></span></p></th><th class="th" data-priority="1"></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p><span class="strong strong"><strong>Value</strong></span></p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">aws | azure | googlecloud</code></p></td></tr><tr><td class="td"><p><code class="literal">instance</code></p></td><td class="td"><p>Below keys/values are for AWS</p></td><td class="td"></td><td class="td"></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;instance_name&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">active</code></p></td><td class="td"><p>boolean</p></td><td class="td"><p><code class="literal">true | false</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">deleted</code></p></td><td class="td"><p>boolean</p></td><td class="td"><p><code class="literal">true | false</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">account_id</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Netskope account ID</p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">external_id</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Netskope external ID</p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">role_arn</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;arn_aws_iam_role_name&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">trail_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;cloudtrail_name&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">trail_region</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;aws_region_id&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;admin_email&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p>Any of these: <code class="literal">"introspection", "malware", "securityscan"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>Available when <code class="literal">use_for</code> contains <code class="literal">"securityscan"</code></p></td></tr><tr><td class="td"><p>instance</p></td><td class="td"><p>Below keys/values are for Azure</p></td><td class="td"></td><td class="td"></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;instance_name&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">active</code></p></td><td class="td"><p>boolean</p></td><td class="td"><p><code class="literal">true | false</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">deleted</code></p></td><td class="td"><p>boolean</p></td><td class="td"><p><code class="literal">true | false</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">directory_id</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Azure Directory ID</p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">application_id</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Azure Application ID</p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">client_key</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Azure Client Key</p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"&lt;admin_email&gt;"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p>Any of these:<code class="literal"> "introspection", "malware", "securityscan"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>Available when <code class="literal">use_for</code> contains <code class="literal">"securityscan"</code></p></td></tr><tr><td class="td"><p>instance</p></td><td class="td"><p>Below keys/values are for GCP</p></td><td class="td"></td><td class="td"></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"<span class="emphasis"><em>&lt;instance_name&gt;</em></span>"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">active</code></p></td><td class="td"><p>boolean</p></td><td class="td"><p><code class="literal">true | false</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">deleted</code></p></td><td class="td"><p>boolean</p></td><td class="td"><p><code class="literal">true | false</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">sink_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;sink_name&gt;</em></span></code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"&lt;admin_email&gt;"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p><code class="literal">"securityscan"</code></p></td></tr><tr><td class="td"></td><td class="td"><p><code class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>Available when <code class="literal">use_for</code> contains <code class="literal">"securityscan"</code></p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-42b83424-2583-dfa2-9117-b029492b170f" data-time-modified="May 15, 2020" data-publication-date="" id="UUID-f3cf8481-2f28-32a6-4e07-60e571637253"><div class="titlepage"><div><div class="title"><h6 class="title">Update an AWS Instance</h6></div></div></div><p>This endpoint updates an AWS instance.</p><h7 id="UUID-f3cf8481-2f28-32a6-4e07-60e571637253_bridgehead-5c8c49446e540-idm45260648722768" class="bridgehead">Request</h7><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=update</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">"aws"</code></p></td><td class="td"><p>Required.  When  <code class="literal">aws</code>, all required fields below must be are supplied.  The combined IaaS instances must not exceed 200, the default max. To have the max increased, contact Netskope Support.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> Example: <code class="literal">"MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The AWS instance name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">role_arn</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;arn_aws_iam_role_name&gt;</em></span></code></p><p>Example: <code class="literal">"arn:aws:iam::202763083689:role/MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The ARN role name for the AWS account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">trail_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;cloudtrail_name&gt;</code></p><p>Example: <code class="literal">"MYAWS_GOTASKOPE_TRAIL"</code></p></td><td class="td"><p>Required for <code class="literal">"introspection"</code> and <code class="literal">"malware"</code>. The trail name for the AWS account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">trail_region</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;aws_region_id&gt;</code></p><p>Example: <code class="literal">"ap-south-1"</code></p></td><td class="td"><p>Required. The trail region for the AWS account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">admin_email</code></p></td><td class="td"><p>sting</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;emailaddress@company.com&gt;</code></p><p>Example: <code class="literal">admin@neskope.com</code></p></td><td class="td"><p>Required. The admin's email address.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p> <code class="literal">"introspection" |</code> <code class="literal">"malware"</code> | <code class="literal">"securityscan"</code></p><p>Example: <code class="literal">["malware","introspection"]</code></p></td><td class="td"><p>Required. Must not be an empty array. Items in the array must be supported by AWS. If it contains <code class="literal">"malware"</code> or <code class="literal">"introspection"</code>, must be also supplied.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>To use <code class="literal">introspection</code>, <code class="literal">malware</code>, and <code class="literal">securityscan</code>, first contact Netskope Support to have this feature enabled.</p></div></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>In minutes. Example: <code class="literal">1440</code></p></td><td class="td"><p>When used for <code class="literal">"securityscan"</code>, must be a value allowed by available intervals.</p><p>If omitted, default value is the internally defined default value based on the app.</p></td></tr></tbody></table></div><h7 id="UUID-f3cf8481-2f28-32a6-4e07-60e571637253_bridgehead-5c8c49c8886da-idm45260648702320" class="bridgehead">Response</h7><p>Responses for AWS are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p></p></th><th class="th" data-priority="1"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p></p></td><td class="td"><p><code class="literal">aws</code></p></td></tr><tr><td class="td"><p><code class="literal">instance</code></p></td><td class="td"><p><code class="literal">account_id</code></p></td><td class="td"><p>Netskope account ID</p></td></tr><tr><td class="td"><p></p></td><td class="td"><p><code class="literal">external_id</code></p></td><td class="td"><p>Netskope external ID</p></td></tr><tr><td class="td"><p></p></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code></p></td></tr><tr><td class="td"><p></p></td><td class="td"><p><code class="literal">oath</code></p></td><td class="td"><p>Permission needed</p><p><code class="literal">"<span class="emphasis"><em>&lt;json_string&gt;</em></span>"</code> or <code class="literal">"<span class="emphasis"><em>&lt;instruction&gt;</em></span>" </code></p><p>Value is based on the combination in <code class="literal">"use_for"</code> supplied in the request.</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-4831f447-ccc1-df33-14a1-1266efd65148" data-time-modified="May 15, 2020" data-publication-date="" id="UUID-c65c85da-5da6-efeb-2e9d-3d5826501ae6"><div class="titlepage"><div><div class="title"><h6 class="title">Update an Azure Instance</h6></div></div></div><p>This endpoint updates an AWS instance.</p><h7 id="idp146731" class="bridgehead">Request</h7><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=update</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">"azure"</code></p></td><td class="td"><p>Required.  When  <code class="literal">azure</code>, all required fields below must be are supplied.  The combined IaaS instances must not exceed 200, the default max. To have the max increased, contact Netskope Support.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code></p><p>Example: <code class="literal">"MYAZURE_GOSKOPE"</code></p></td><td class="td"><p>Required. The Azure instance name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">directory_id</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;azure_directory_id&gt;</em></span></code></p><p>Example: <code class="literal">"a264c47-9f50-4a22-88ce-92a49eb84"</code></p></td><td class="td"><p>Required. The directory ID for the Azure account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">application_id</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;azure_application_id&gt;</em></span></code></p><p>Example: <code class="literal">"c43aa400-1959-45b0-a8a5-c31c5e309"</code></p></td><td class="td"><p>Required.  The application ID for the Azure account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">client_key</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;azure_client_key&gt;</em></span></code></p><p>Example: <code class="literal">"DfghjafHh9ZjcoBoLmi+ZTckRnBZgqTyiygZda23JA="</code></p></td><td class="td"><p>Required. The client key for the Azure account.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;emailaddress@company.com&gt;</code></p><p>Example: <code class="literal">admin@neskope.com</code></p></td><td class="td"><p>Required. The admin's email address.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p><code class="literal">"introspection" |</code> <code class="literal">"malware"</code> | <code class="literal">"securityscan"</code></p><p>Example: <code class="literal">["malware","introspection"]</code></p></td><td class="td"><p>Required. Must not be empty array. Items in the array must be supported by Azure. If it contains <code class="literal">"malware"</code>, <code class="literal">"introspection"</code> must be also supplied.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>To use <code class="literal">introspection</code>, <code class="literal">malware</code> and <code class="literal">securityscan</code>, first contact Netskope Support to have this feature enabled.</p></div></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>In minutes. Example: <code class="literal">1440</code></p></td><td class="td"><p>When used for "securityscan", must be a value allowed by available intervals.</p><p>If omitted, default value is the internally defined default value based on the app.</p></td></tr></tbody></table></div><h7 id="UUID-c65c85da-5da6-efeb-2e9d-3d5826501ae6_bridgehead-5c90434a2b4ff-idm45260647527824" class="bridgehead">Response</h7><p>Responses for Azure are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p></p></th><th class="th" data-priority="1"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p></p></td><td class="td"><p><code class="literal">azure</code></p></td></tr><tr><td class="td"><p><code class="literal">instance</code></p></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> (Instance name in Netskope UI)</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-a5b2b858-873e-aeef-e9d6-4e372114cf65" data-time-modified="May 15, 2020" data-publication-date="" id="UUID-d141210c-8a8c-27cb-81a2-d0a6f05a7fda"><div class="titlepage"><div><div class="title"><h6 class="title">Update a GCP Instance</h6></div></div></div><p>This endpoint updates a Google Cloud Platform instance.</p><h7 id="idp146903" class="bridgehead">Request</h7><pre class="programlisting">POST https://tenant.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=update</pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">"googlecloud"</code></p></td><td class="td"><p>Required. When <code class="literal">googlecloud</code>, all required fields below must be are supplied. </p><p>The combined IaaS instances must not exceed 200, the default max. To have the max increased, contact Netskope Support.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code></p><p>Example: <code class="literal">"MYGCP_GOSKOPE"</code></p></td><td class="td"><p>Required. The GCP instance name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code class="literal">service_account_info</code></p></td><td class="td"><p>JSON</p></td><td class="td"><p>Private Key JSON</p></td><td class="td"><p>Required. Must not be empty.</p></td></tr><tr><td class="td"><p><code class="literal">sink_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;sink_name&gt;</em></span></code></p><p>Example: <code class="literal">"organizations/946821861782/sinks/ns-org-sink-3-end"</code></p></td><td class="td"><p>Sink name should be in this format: <code class="literal">"organizations/<span class="emphasis"><em>&lt;orgID&gt;</em></span>/sinks/<span class="emphasis"><em>&lt;sinkId&gt;</em></span>"</code></p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;emailaddress@company.com&gt;</em></span></code></p><p>Example: <code class="literal">admin@neskope.com</code></p></td><td class="td"><p>Required. The admin's email address.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p><code class="literal">"securityscan"</code></p><p>Example: <code class="literal">"securityscan"]</code></p></td><td class="td"><p>Required. Must not be empty array. Items in the array must be supported by GCP.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>In minutes. Example: <code class="literal">1440</code></p></td><td class="td"><p>When used for <code class="literal">"securityscan"</code>, must be a value allowed by available intervals.</p><p>If omitted, default value is the internally defined default value based on the app.</p></td></tr></tbody></table></div><h7 id="idp147018" class="bridgehead">Response</h7><p>Responses for Google Cloud Platform are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p></p></th><th class="th" data-priority="1"><p>Value</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">app</code></p></td><td class="td"><p></p></td><td class="td"><p><code class="literal">googlecloud</code></p></td></tr><tr><td class="td"><p><code class="literal">instance</code></p></td><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p><code class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> (Instance name in Netskope UI)</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-c90391dd-539e-472e-576f-dfe32d3370a9" data-time-modified="June 29, 2019" data-publication-date="" id="UUID-08204929-df44-e98a-de93-e56433c20457"><div class="titlepage"><div><div class="title"><h6 class="title">Delete an IaaS Instance</h6></div></div></div><p>This endpoint deletes an IaaS instance.</p><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/introspection_instance?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=delete</pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p><code class="literal">aws | azure | googlecloud</code></p></td><td class="td"><p>Specifies the IaaS to be deleted. </p></td></tr><tr><td class="td"><p><code class="literal">instance_name</code></p></td><td class="td"><p>"<span class="emphasis"><em><code class="literal">&lt;instance_name&gt;</code></em></span>" Example: <code class="literal">"MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Must be an existing instance_name in the app.</p><p>No <span class="phrase">Real-time Protection</span><span class="phrase"></span>, <span class="phrase"></span><span class="phrase">API-enabled Protection</span>, or Security Assessment policies are associated with the instance.</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-358d9933-29c5-18dd-2c8b-0c8d6ecd04ed" data-time-modified="May 21, 2020" data-publication-date="" id="UUID-e0de0d81-6dd7-1c63-b1a0-7a501cf68a35"><div class="titlepage"><div><div class="title"><h6 class="title">Manage Multiple AWS Accounts</h6></div></div></div><p>This endpoint allows you to create, update, delete, and download multiple AWS accounts.</p><h7 id="idp147099" class="bridgehead">Request</h7><pre class="programlisting">POST https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/account?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;<span class="emphasis"><em>&lt;parameters&gt;</em></span></pre><p>Valid payload parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">op</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code class="literal">create | update | delete | download</code></p></td><td class="td"><p>Required. Specifies operation to perform.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">app</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">"aws"</code></p></td><td class="td"><p>Required.  When  <code class="literal">aws</code>, all required fields below must be supplied.  </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">accounts</code></p></td><td class="td"><p>JSON array of objects</p></td><td class="td"><p>For create:</p><pre class="programlisting">"accounts": [
{          
"account_id": "<span class="emphasis"><em>&lt;account_id&gt;</em></span>", "account_name": "<span class="emphasis"><em>&lt;account_name&gt;</em></span>",         "admin_email": "<span class="emphasis"><em>&lt;admin_email&gt;</em></span>"},
{          
"account_id": "<span class="emphasis"><em>&lt;account_id&gt;</em></span>"account_name": "<span class="emphasis"><em>&lt;account_name&gt;</em></span>",       "admin_email": "<span class="emphasis"><em>&lt;admin_email&gt;</em></span>"
}
]</pre><p>For update: </p><pre class="programlisting">"accounts": [
{
"instance_name": "abcish",
"admin_email": "admin@netskope.com",
"use_for": [
   "securityscan",
    "malware",
   "introspection"
],
"securityscan_interval": "120"
}
]</pre><p>For delete:</p><pre class="programlisting">"accounts": [
{
"instance_name": "abcish"
}
]</pre><p>For download CFT:</p><pre class="programlisting">{
"app":"aws"
"type": "cft",
"use_for": [
 "introspection"
    ]
}
]</pre><p>For download CFT migration:</p><pre class="programlisting">{
"app":"aws",
"type": "cft",
"mode": "migrate",
"instance_name": "abcish",
"admin_email": "admin@netskope.com",
"use_for": [
"securityscan",
"introspection"
 ],  "securityscan_interval": "60"
}
</pre></td><td class="td"><p>List of accounts with account_id and admin_email. Create allows adding multiple accounts at one time. Only one account can be updated or deleted at one time.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;instance_name&gt;</em></span></code> Example: <code class="literal">"MYAWS_GOSKOPE"</code></p></td><td class="td"><p>Required. The AWS instance name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">mode</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">migrate</code></p></td><td class="td"><p>Only for downloading the migration CFT.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">admin_email</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">&lt;emailaddress@company.com&gt;</code></p><p>Example: <code class="literal">admin@neskope.com</code></p></td><td class="td"><p>Admin email for updating and downloading the migration CFT.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">type</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">cft</code></p></td><td class="td"><p>Type of the download option. Currently only supported option is <code class="literal">cft</code>.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">use_for</code></p></td><td class="td"><p>array</p></td><td class="td"><p> <code class="literal">"introspection" |</code> <code class="literal">"malware"</code> | <code class="literal">"securityscan"</code></p><p>Example: <code class="literal">["malware","introspection"]</code></p></td><td class="td"><p>Required. Must not be an empty array. Items in the array must be supported by AWS. If it contains <code class="literal">"malware"</code> or <code class="literal">"introspection"</code>, must be also supplied.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>To use <code class="literal">introspection</code>, <code class="literal">malware</code>, and <code class="literal">securityscan</code>, first contact Netskope Support to have this feature enabled.</p></div></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">securityscan_interval</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>In minutes. Example: <code class="literal">1440</code></p></td><td class="td"><p>When used for <code class="literal">"securityscan"</code>, must be a value allowed by available intervals.</p><p>If omitted, default value is the internally defined default value based on the app.</p></td></tr></tbody></table></div><h7 id="idp147255" class="bridgehead">Example Create Request</h7><pre class="programlisting">curl --location --request POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/account?token=f39866cb86ab84a0208e9e1ee&amp;amp;op=create' --header 'Content-Type: application/json' --data-raw '{
    "app":"aws",
    "accounts": [
        {
            "account_id": "077000210270",
            "account_name": "Test-1"
            "admin_email": "admin@netskope.com"
        },
        {
            "account_id": "077000210271",
            "account_name": "Test-2"
            "admin_email": "admin@netskope.com"
        }
    ],
    "use_for": [
        "securityscan",
        "malware",
        "introspection"
    ],
    "securityscan_interval": "60"
}'
</pre><h7 id="idp147258" class="bridgehead">Example Update Request</h7><pre class="programlisting">curl --location --request POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/account?token=f39866cb86ab84a0208e9e1ee614&amp;op=update' --header 'Content-Type: application/json' --data-raw '{
    "app":"aws",
    "instance_name": "abcish",
    "admin_email": "admin@netskope.com"
    "use_for": [
        "securityscan",
        "malware",
        "introspection"
    ],
    "securityscan_interval": "120"
}'</pre><h7 id="idp147261" class="bridgehead">Example Delete Request</h7><pre class="programlisting">curl --location --request POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/account?token=f39866cb86ab84a0208e9e1ee614&amp;op=delete' --header 'Content-Type: application/json' --data-raw '{
    "app":"aws",
    "account_id": "077000210270"
}'</pre><h7 id="idp147264" class="bridgehead">Example Download CFT Request</h7><pre class="programlisting">curl --location --request POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/account?token=f39866cb86ab84a0208e9e1ee614&amp;op=download' --header 'Content-Type: application/json' --data-raw '{
    "app":"aws",
    "type": "cft",
    "use_for": [
        "introspection"
    ]
}'</pre><h7 id="idp147267" class="bridgehead">Example Download Migration CFT for Existing Instances Request</h7><pre class="programlisting">curl --location --request POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/account?token=f39866cb86ab84a0208e9e1ee614&amp;op=download' --header 'Content-Type: application/json' --data-raw '{
    "app":"aws",
    "type": "cft",
    "mode": "migrate",
    "instance_name": "abcish",
    "admin_email": "admin@netskope.com",
    "use_for": [
        "securityscan",
        "introspection"
    ],
    "securityscan_interval": "60"
}'</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-63409ed8-78bf-6d65-e27b-64050fd02b89" data-time-modified="July 27, 2020" data-publication-date="" id="UUID-c9fac20b-4a34-118f-d908-ca1310a0b93b"><div class="titlepage"><div><div class="title"><h6 class="title">Manage a Bucket List for a Constraint Profile</h6></div></div></div><p>This endpoint can be used to update the buckets of an existing storage constraint profile or view the buckets in a storage constraint profile. The constraint profiles are applied in an <span class="phrase">Real-time Protection</span> policy to <span class="phrase">allowlist</span> or <span class="phrase">blocklist</span> specific buckets.</p><h7 id="idp147276" class="bridgehead">Request</h7><pre class="programlisting">https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=<span class="emphasis"><em>&lt;operator&gt;</em></span>&amp;name=<span class="emphasis"><em>&lt;bucket list name&gt;</em></span></pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">name</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;profile_name&gt;</em></span></code> Example: <code class="literal">"<span class="phrase">Allowlist</span>_Bucket"</code></p></td><td class="td"><p>Required. The name of an existing storage constraint profile.</p><p>Will return an error if the provided name either does not exist or if there is some pending change already in the storage constraint profile</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">op</code></p></td><td class="td"><p><code class="literal">appendToBucketList</code> | <code class="literal">deleteFromBucketList</code> | <code class="literal">modifyBucketList </code>| <code class="literal">replaceBucketList</code> | <code class="literal">viewBucketList</code></p></td><td class="td"><p>Required. The operation to perform with the bucket list in the storage constraint profile. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">list</code></p></td><td class="td"><p>Comma-separated list of bucket names.</p></td><td class="td"><p>Use only for <code class="literal">appendToBucketList </code>, <code class="literal">deleteFromBucketList </code> and <code class="literal">replaceBucketList</code>. Max size of a bucket list is 8MB. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">addlist</code></p></td><td class="td"><p>Comma-separated list of bucket names.</p></td><td class="td"><p>Use only for <code class="literal">modifyBucketList</code>. <code class="literal">deleteList</code> is processed first, <code class="literal">addList</code> second. Max size of a bucket list is 8MB.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">delectlist</code></p></td><td class="td"><p>Comma-separated list of bucket names.</p></td><td class="td"><p>Use only for <code class="literal">modifyBucketList</code>. <code class="literal">deleteList</code> is processed first, <code class="literal">addList</code> second. Max size of a bucket list is 8MB.</p></td></tr></tbody></table></div><h7 id="idp147356" class="bridgehead">Examples</h7><p><span class="bold bold"><strong>Append to a bucket list</strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=appendToBucketList&amp;name=customBucketList201' \   
-H 'Content-Type: application/json' \   
-H 'cache-control: no-cache' \   
-d '{"list": "my-abc,my-abc-0" }'
</pre><p><span class="bold bold"><strong>Delete from a bucket list</strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=deleteFromBucketList&amp;name=customBucketList201' \   
-H 'Content-Type: application/json' \   
-H 'cache-control: no-cache' \   
-d '{"list": "my-abc,my-abc-0,mn-abc-0,my-abc-0","my-abc,my-abc-0" }'
</pre><p><span class="bold bold"><strong>Modify a bucket list: only <code class="literal">addlist</code></strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=modifyBucketList&amp;name=customBucketList201' \   
-H 'Content-Type: application/json' \   
-H 'cache-control: no-cache' \   
-d '{"addList": "bucket-west,content-team,largefiles,netskope-files,toy.videos,vent-12345" }'
</pre><p><span class="bold bold"><strong>Modify a bucket list: only <code class="literal">deletelist</code></strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=modifyBucketList&amp;name=customBucketList201' \   
-H 'Content-Type: application/json' \   
-H 'cache-control: no-cache' \   
-d '{"deleteList": "bucket-west,content-team,largefiles,netskope-files,toy.videos,kent-12345" }'
</pre><p><span class="bold bold"><strong>Modify a bucket list: both <code class="literal">addlist</code> and <code class="literal">deletelist</code></strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=modifyBucketList&amp;name=customBucketList201' \   
-H 'Content-Type: application/json' \   
-H 'cache-control: no-cache' \   
-d '{"addList": "bucket-east,context-team,smallfiles,toy.videos,vent-12345"    
"deleteList": "bucket-west,content-team,largefiles,netskope-files,bot.videos,kent-12345" }'
</pre><p><span class="bold bold"><strong>Replace a bucket list</strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=replaceBucketList&amp;name=customBucketList201'  \ 
-H 'Content-Type: application/json'   
-H 'cache-control: no-cache'   
-d '{"list": "toy.videos,vent-12345,my-abc"}'
</pre><p><span class="bold bold"><strong>View a bucket list</strong></span></p><pre class="programlisting">$ curl -X POST \   
'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=151b9d5e1f1546b589cb8b6jk6jk54jtj&amp;op=viewBucketList&amp;name=customBucketList201' \   
-H 'Content-Type: application/json' \   
-H 'cache-control: no-cache' \   
-d '{"list": "my-abc,my-abc-0" }'
</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-b3806048-8871-10d8-97da-7480f31a4add" data-time-modified="November 19, 2020" data-publication-date="" id="UUID-9183d801-ad3f-d370-73bf-945eec4a4cb0"><div class="titlepage"><div><div class="title"><h6 class="title">Evaluate Custom Rules</h6></div></div></div><p>Use this endpoint to evaluate domain specific language (DSL) custom rules against its resources. Custom rules are the rules defined by DSL specifications.</p><h7 id="idp147392" class="bridgehead">Request Endpoint</h7><pre class="programlisting">https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/rule_evaluate</pre><p>All parameters except <code class="literal">resource_ids</code> are required:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">cloud_provider</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">azure | aws | googlecloud</code></p></td><td class="td"><p>The IaaS platform provider.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">rule_code</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The rule definition written in DSL.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_ids</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The list of resource IDs. There are these variations:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">resource_ids: []</code> evaluates a given rule against all resources.</p></li><li class="listitem"><p><code class="literal">resource_ids:['a','b']</code> evaluates a given rule against <code class="literal">‘a'</code> and <code class="literal">'b’</code> resources.</p></li><li class="listitem"><p>This is an optional parameter. If it's an empty array, then the API evaluates a given rule against all resources.</p></li></ul></div></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">instance</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>AWS: Account name.</p><p>Azure: AD application.</p><p>GCP: Service account.</p></td></tr></tbody></table></div><h7 id="idp147457" class="bridgehead">Example Request and Response</h7><pre class="programlisting">POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/rule_evaluate?token=f39866cb86ab84a0208e&amp;cloud_provider="aws"&amp;rule_code="RDSInstance should have MultiAZ eq true"&amp;instance="API Test Instance"&amp;resource_ids=["mariadb-1","mariadb-2"]'

{
"status": "success",
"message": {
"mariadb-1": true, // true =  resource passed the rule.
"mariadb-2": false // false = resource failed the rule.}}</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-37b0a460-80e0-3250-679c-e79aa58ce60e" data-time-modified="May 4, 2020" data-publication-date="" id="UUID-82eda397-113f-0eb0-0b16-04895853d41a"><div class="titlepage"><div><div class="title"><h6 class="title">Import and Export CSA Custom Rules</h6></div></div></div><p>Use this endpoint to manage the custom rules for CSA. Custom rules are the rules defined by domain specific language (DSL) specifications. This endpoint enables you to import and export your custom rules to and from the Netskope UI for use in profiles and policies. Whenever you change a rule, be sure to click <span class="bold bold"><strong>Apply Changes</strong></span> in the Netskope UI. You can import or export up to 500 custom rules in one API call.</p><h7 id="idp147465" class="bridgehead">Request Endpoint</h7><pre class="programlisting">https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/rules?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;<span class="emphasis"><em>&lt;parameters&gt;</em></span></pre><h7 id="UUID-82eda397-113f-0eb0-0b16-04895853d41a_bridgehead-idm4646117288982431655389605636" class="bridgehead">Import Custom Rules</h7><p>Valid parameters include:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">op</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">import</code></p></td><td class="td"><p>Operation performed.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">rules</code></p></td><td class="td"><p>JSON array of object</p></td><td class="td"><pre class="programlisting">{
"rule_name": "<span class="emphasis"><em>&lt;rule_name&gt;</em></span>",
"description": "<span class="emphasis"><em>&lt;description_optional&gt;</em></span>",
"remediation_steps": "<span class="emphasis"><em>&lt;remediation_optional&gt;</em></span>",
"severity": "&lt;Critical|High|Medium|Low&gt;",
"code": "<span class="emphasis"><em>&lt;code&gt;</em></span>",
"cloud_provider": "&lt;aws|googlecloud|azure&gt;"
}</pre></td><td class="td"><p>List of rules to import.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">cloud_provider</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">azure | aws | googlecloud</code></p></td><td class="td"><p>The IaaS platform provider.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">rule_name</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Required</p></td><td class="td"><p>Name of the custom rule.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">description</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Optional</p></td><td class="td"><p>Description of the custom rule.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">remediation_steps</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Optional</p></td><td class="td"><p>Remediation text for the rule.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">severity</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">Critical | High | Low | Medium</code></p></td><td class="td"><p>Severity of the custom rule.</p></td></tr><tr><td class="td"><p><code class="literal">code</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Ex: <code class="literal">RedShiftCluster should have LoggingEnabled eq true</code></p></td><td class="td"><p>DSL specification code.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">modify_by</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Ex: <code class="literal">admin@netskope.com</code></p></td><td class="td"><p>Email address</p></td></tr></tbody></table></div><h7 id="UUID-82eda397-113f-0eb0-0b16-04895853d41a_bridgehead-idm4479625699472031655459159325" class="bridgehead">Example Import Request</h7><pre class="programlisting">POST 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/rules?token=f39866cb86ab84a0208e9e1ee&amp;op=import' --header 'Content-Type: application/json' --data-raw '{
    "rules": [
        {
            "rule_name": "AWS_C3",
            "description": "",
            "remediation_steps": "",
            "severity": "High",
            "code": "RedShiftCluster should have LoggingEnabled eq true",
            "cloud_provider": "aws"
        },
        {
            "rule_name": "AWS_C4",
            "description": "",
            "remediation_steps": "",
            "severity": "High",
            "code": "RedShiftCluster should have LoggingEnabled eq true",
            "cloud_provider": "aws"
        }
    ],
    "modify_by": "admin@netskope.com"
}'</pre><h7 id="idp147591" class="bridgehead">Export Custom Rules</h7><p>Valid parameters include:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:10%;"></col><col style="width:25%;"></col><col style="width:40%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Type</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">op</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">export</code></p></td><td class="td"><p>Operation performed.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">cloud_provider</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">azure | aws | googlecloud</code></p></td><td class="td"><p>The IaaS platform provider.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">severity</code></p></td><td class="td"><p>string</p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">Critical | High | Low | Medium</code></p></td><td class="td"><p>Severity of the custom rule.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">state</code></p></td><td class="td"><p>string</p></td><td class="td"><p>Ex: <code class="literal">deployed</code></p></td><td class="td"><p>Filter with deployed rules.</p></td></tr></tbody></table></div><h7 id="UUID-82eda397-113f-0eb0-0b16-04895853d41a_bridgehead-idm464611736249603165546380536" class="bridgehead">Example Export Request</h7><pre class="programlisting">GET 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/rules?token=f39866cb86ab84a0208e9e1ee&amp;op=export&amp;severity=Critical|High&amp;cloud_provider=aws'
</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-abb74774-8744-7cd4-fac8-c5e98da9d322" data-time-modified="October 22, 2020" data-publication-date="" id="UUID-5fe0cc41-0c91-298d-2724-3231157fa61d"><div class="titlepage"><div><div class="title"><h6 class="title">Start a CSA Scan</h6></div></div></div><p>This endpoint starts a Cloud Security Assessment (CSA) scan according to a policy. CSA scans IaaS accounts for compliance violations, and then displays the non-compliant rules and resources associated with those accounts. To see the scan results, go to <span class="bold bold"><strong>Cloud Infrastructure &gt; Compliance</strong></span> in the Netskope UI.</p><p>Also, use the <code class="literal">scan_id</code> hash value returned for getting a CSA scan status. Refer to <a class="xref" href="public-cloud-api-endpoints.html#UUID-e7299f62-dfd4-27f6-6567-e559207f23db" title="Get a CSA Scan Status"><span class="xreftitle">Get a CSA Scan Status</span></a>.</p><h7 id="idp147664" class="bridgehead">Request</h7><pre class="programlisting">GET https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/csa_scan?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=start&amp;name=<span class="emphasis"><em>&lt;policy_name&gt;</em></span>&amp;scan_start_by=<span class="emphasis"><em>&lt;name&gt;</em></span></pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">op</code></p></td><td class="td"><p><code class="literal">start</code></p></td><td class="td"><p>Starts the scan. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">name</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;policy_name&gt;</em></span></code> Example: <code class="literal">"MYCSA_POLICY"</code></p></td><td class="td"><p>Required. The Security Assessment policy name in the Netskope UI.</p></td></tr><tr><td class="td"><p><code class="literal">scan_start_by</code></p></td><td class="td"><p>Name of the user starting the scan.</p></td><td class="td"><p>Required for scan start. Cannot be empty string.</p></td></tr></tbody></table></div><h7 id="idp147713" class="bridgehead">Request Example and Response</h7><pre class="programlisting">curl -X GET https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/csa_scan?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=start&amp;name=<span class="emphasis"><em>&lt;policy_name&gt;</em></span>&amp;scan_start_by=<span class="emphasis"><em>&lt;name&gt;</em></span>

{
   "status": "success",    
   "msg": "Policy scan has been submitted",    
   "data  {   
     "scan_id": "2e528976d8c01e115d8943519ab7b0f043ead317",               
   "data": [] 
    }
}</pre><pre class="programlisting">// Success Response
 
{
    "status": "success",
    "msg": "Policy scan has been submitted",
    "data": []
}
 
// Error Response for Invalid Policy Name
{
    "status": "error",
    "errorCode": "General Error",
    "errors": [
        "A deployed policy by this name does not exist."
    ]
}
 
// Error Response for Expired Token
{
    "status": "error",
    "errorCode": "Authorization Error",
    "errors": [
        "Invalid REST API Token. Please contact administrator"
    ]
}
 
// Error Response for invalid operator
{
    "status": "error",
    "errorCode": "General Error",
    "errors": [
        "Invalid op start_end."
    ]
}</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-9e394e60-5537-4892-c09e-68010b4dd874" data-time-modified="October 30, 2020" data-publication-date="" id="UUID-e7299f62-dfd4-27f6-6567-e559207f23db"><div class="titlepage"><div><div class="title"><h6 class="title">Get a CSA Scan Status</h6></div></div></div><p>This endpoint provides the status of a CSA scan.</p><h7 id="idp147723" class="bridgehead">Request</h7><pre class="programlisting">GET https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/csa_scan?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=status&amp;scan_id=<span class="emphasis"><em>&lt;hash&gt;</em></span></pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">op</code></p></td><td class="td"><p><code class="literal">status</code></p></td><td class="td"><p>Returns the status of the scan. </p></td></tr><tr><td class="td"><p><code class="literal">scan_id</code></p></td><td class="td"><p>Hash of the scan ID returned when starting a scan.</p></td><td class="td"><p>Required for scan status. Provides the ID of the scan for for which you want status. If an incorrect ID is provided, it will return an empty response.</p></td></tr></tbody></table></div><h7 id="idp147760" class="bridgehead">Request and Response Example</h7><pre class="programlisting">curl -X GET https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/csa_scan?token=<span class="emphasis"><em>&lt;token&gt;</em></span>&amp;op=status&amp;scan_id=<span class="emphasis"><em>&lt;hash&gt;</em></span>

{
    "status": "success",
    "msg": "",
    "data": {
        "scan_results": [
            {
                "status": "In progress",
                "instance": "test-policy",
                "appname": "aws",
                "scan_start_time": 1569867918.178233,
                "policy_name": "aws-policy"
            }
        ],
        "errors": [],
        "scan_started_by": ""
    }
}</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-034c6172-4647-e0c0-bf4b-904cc8ced782" data-time-modified="December 8, 2020" data-publication-date="" id="UUID-ecdc9b2f-6f77-c0ed-3e63-7ec8290127d2"><div class="titlepage"><div><div class="title"><h6 class="title">View Security Assessment Violations</h6></div></div></div><p>Use this endpoint to get the security assessment violations from the latest scan or as a snapshot of time. This endpoint also replicates the input and output shown at <span class="bold bold"><strong>Cloud Infrastructure &gt; Compliance &gt; Raw Findings</strong></span>. </p><h7 id="idp147770" class="bridgehead">Request Endpoint</h7><pre class="programlisting">https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/security_assessment</pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">account_id</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The Iaas platform provider account ID.</p></td></tr><tr><td class="td"><p><code class="literal">account_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The Iaas platform provider account name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">cloud_provider</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">azure | aws | googlecloud</code></p></td><td class="td"><p>The IaaS platform provider.</p></td></tr><tr><td class="td"><p><code class="literal">policy_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The Security Assessment policy name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">profile_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The Security Assessment profile name. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">rule_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The Security Assessment rule name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_category</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The asset category set by Netskope per account resource.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_id</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The asset identifier created by the IaaS platform provider.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The IaaS instance name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_type</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The resource type set by Netskope per account resource.</p></td></tr><tr><td class="td"><p><code class="literal">tag_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The tag name set in the Iaas platform provider account resource. Must also supply tag value.</p></td></tr><tr><td class="td"><p><code class="literal">tag_value</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The tag value set in the Iaas platform provider account resource. Must also supply tag name.</p></td></tr><tr><td class="td"><p><code class="literal">remediated_by</code></p></td><td class="td"><p><code class="literal">AutoRemediation | OnDemandRemediation</code></p></td><td class="td"><p>How the policy violation was remediated.</p></td></tr><tr><td class="td"><p><code class="literal">last_remediation_status</code></p></td><td class="td"><p><code class="literal">None | Started | Completed | Errored</code></p></td><td class="td"><p>Last remediation status. <code class="literal">None</code> means not any the other three options.</p></td></tr><tr><td class="td"><p><code class="literal">as_of</code></p></td><td class="td"><p>Integer</p></td><td class="td"><p>Epoch time of results at that time. Default is the time of the request when not supplied, and is GMT time.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">severity</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">Critical | High | Medium | Low</code></p></td><td class="td"><p>The Security Assessment rule severity.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">limit</code></p></td><td class="td"><p>Positive integer less than 5000</p></td><td class="td"><p>Required.</p><p>REST API responses can return up to 5000 events in a single response. You can use pagination to retrieve more results.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">skip</code></p></td><td class="td"><p>Positive integer</p></td><td class="td"><p>Skip over some of the events (useful for pagination in combination with limit).</p></td></tr><tr><td class="td"><p><code class="literal">status</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">Passed | Failed</code></p></td><td class="td"><p>The Security Assessment status.</p></td></tr><tr><td class="td"><p><code class="literal">muted</code></p></td><td class="td"><p><code class="literal">Yes | No</code></p></td><td class="td"><p>Returns either muted or unmuted findings.</p></td></tr><tr><td class="td"><p><code class="literal">compliance_standard</code></p></td><td class="td"><p>URL-encoded string </p></td><td class="td"><p>The name of the compliance standard, like CIS-AWSFND-1.2.0, NIST-CSF, etc.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">region</code></p></td><td class="td"><p>For Azure, some possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">all</code></p></li><li class="listitem"><p><code class="literal">global</code></p></li><li class="listitem"><p><code class="literal">eastus</code></p></li><li class="listitem"><p><code class="literal">northcentralus</code></p></li><li class="listitem"><p><code class="literal">westus</code></p></li><li class="listitem"><p><code class="literal">centralindia</code></p></li><li class="listitem"><p><code class="literal">centralus</code></p></li><li class="listitem"><p><code class="literal">australiacentral</code></p></li></ul></div><p>For AWS, possible values are: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">global</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-south-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-northeast-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-southeast-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-southeast-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-northeast-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ca-central-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-central-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-west-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-west-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-west-3</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-north-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">me-south-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west-2</code></p></li></ul></div><p>For Google Cloud, some possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-east1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-east2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-northeast1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-southeast1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-south1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-north1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west3</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west4</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">northamerica-northeast1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">southamerica-east1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-central1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east4</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west2</code></p></li></ul></div></td><td class="td"><p>The location reference</p></td></tr></tbody></table></div><h7 id="UUID-ecdc9b2f-6f77-c0ed-3e63-7ec8290127d2_bridgehead-5c94540f52c7e-idm45773704919376" class="bridgehead">Example Request with Response</h7><pre class="programlisting">curl -X GET 'https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/security_assessment?token=5f8a08f99d40d9b0130dd43798n5n5n&amp;platform=aws&amp;limit=1&amp;skip=0’

{
    "status": "success",
    "msg": "",
    "data": [
        {
            "status": "Passed",
            "account_name": "Rel66AWS",
            "account_id": "215406114230",
            "rule_name": "BPR-AWS | Ensure no user has AdminAccess policy",
            "remediation_steps": "Not Available",
            "resource_name": "gauthami",
            "resource_id": "gauthami",
            "resource_type": "User",
            "resource_category": "Identity",
            "severity": "High",
            "failing_since": "2020-02-12 02:30:17AM", 
             <span class="bold bold"><strong>// Will appear only if status = Failed</strong></span>    
            "mute": "true",
             <span class="bold bold"><strong>// Will appear only if muted or has been muted in the past</strong></span>        
            "cloud_provider": "AWS",
            "profiles": [
                "AWS Best Practices v1.0.0"
            ],
            "mute_until": "2020-04-14 07:00:00AM",
            <span class="bold bold"><strong>// Will appear only if muted or has been muted in the past</strong></span>
            "mute_time": "2020-04-01 06:30:46AM",
            <span class="bold bold"><strong>// Will appear only if muted or has been muted in the past</strong></span>               
            "mute_by": "developer@netskope.com",
            <span class="bold bold"><strong>// Will appear only if muted or has been muted in the past</strong></span>
            "auto_remediation_status": "errored",
            "remediation_action_name": "Ensure User does not have Admin Access Privilege",
            "remediated_by": "auto_remediation",
            "auto_remediation_time": "2019-08-01 06:54:45AM",
            "is_auto_remediation": "true",
            "policies": [
                "ak-ar-policy"
            ],
            "region_name": "global",
            "error_msg": "",
            "last_scan_time": "2019-08-01 06:54:45AM",
            "tags": [
                {
                    "name": "gautami",
                    "value": "1032"
            }],    
            "compliance_standards": [{ 
                "control": "1",
                "description": "Audit/log records are determined, documented, implemented, and reviewed in accordance with policy",           
                "section": "PR.PT",
                "standard": "NIST-CSF-1.1",
                "reference_url": "https://nvlpubs.nist.gov/nistpubs/CSWP/NIST.
CSWP.04162018.pdf"
                },
                {            
                "control": "9",            
                "description": "Ensure a log metric filter and alarm exist for AWS Config configuration changes",
                "appname": "aws",
                "section": "3",
                "standard": "CIS-AWSFND-1.2.0",            
                "reference_url": "https://www.cisecurity.org/benchmark/amazon_web_
services/"        
                }
           ]
}
</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-d647f248-e293-57d4-b3b4-f33be5ff3575" data-time-modified="September 11, 2020" data-publication-date="" id="UUID-08f17876-24ca-3282-af84-b991dbf6de06"><div class="titlepage"><div><div class="title"><h6 class="title">View Cloud Provider Inventory</h6></div></div></div><p>Use this endpoint to get an inventory of your cloud provider assets. These parameters correlate with the filters on the Cloud Infrastructure Inventory page: As of, Resource Category, Account Name, Cloud Provider, Region, and Resource Name.</p><h7 id="idp148115" class="bridgehead">Request Endpoint</h7><pre class="programlisting">https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/public_cloud/inventory</pre><p>All parameters are optional:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code class="literal">format</code></p></td><td class="td"><p>string: <code class="literal">json | flatten</code></p></td><td class="td"><p>Response format default is JSON.</p></td></tr><tr><td class="td"><p><code class="literal">account_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The Iaas platform provider account name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">cloud_provider</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">azure | aws | googlecloud</code></p></td><td class="td"><p>The IaaS platform provider.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_category</code></p></td><td class="td"><p>Examples: <code xml:lang="en" lang="en" dir="ltr" class="literal">Compute | Database | Network | Role | Storage | Messaging</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "></ul></div></td><td class="td"><p>The resource category set by Netskope per account resource. Default is all resource categories.</p></td></tr><tr><td class="td"><p><code class="literal">resource_type</code></p></td><td class="td"><p>Examples: <code class="literal">EC2instance | Lambda | Image | Volume</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "></ul></div></td><td class="td"><p>One or more resource category types. Separate types with the pipe '|' character.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">resource_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The IaaS instance name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">tag_name</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The tag name set in the Iaas platform provider account resource. Must also supply tag value.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">tag_value</code></p></td><td class="td"><p>URL-encoded string</p></td><td class="td"><p>The tag value set in the Iaas platform provider account resource. Must also supply tag name.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">as_of</code></p></td><td class="td"><p>Integer</p></td><td class="td"><p>Epoch time of results at that time. Default is the time of the request when not supplied, and is GMT time.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">limit</code></p></td><td class="td"><p>integer</p></td><td class="td"><p>REST API responses can return up to 5000 items in a single response. You can use pagination to retrieve more results.</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">skip</code></p></td><td class="td"><p>Positive integer</p></td><td class="td"><p>Skip over some of the items (useful for pagination in combination with <code xml:lang="en" lang="en" dir="ltr" class="literal">limit</code>).</p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">region</code></p></td><td class="td"><p>For Azure, some possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">all</code></p></li><li class="listitem"><p><code class="literal">global</code></p></li><li class="listitem"><p><code class="literal">eastus</code></p></li><li class="listitem"><p><code class="literal">northcentralus</code></p></li><li class="listitem"><p><code class="literal">westus</code></p></li><li class="listitem"><p><code class="literal">centralindia</code></p></li><li class="listitem"><p><code class="literal">centralus</code></p></li><li class="listitem"><p><code class="literal">australiacentral</code></p></li></ul></div><p>For AWS, possible values are: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">global</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-south-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-northeast-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-southeast-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-southeast-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ap-northeast-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">ca-central-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-central-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-west-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-west-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-west-3</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">eu-north-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">me-south-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east-2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west-1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west-2</code></p></li></ul></div><p>For Google Cloud, some possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-east1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-east2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-northeast1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-southeast1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">asia-south1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-north1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west2</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west3</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">europe-west4</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">northamerica-northeast1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">southamerica-east1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-central1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-east4</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west1</code></p></li><li class="listitem"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">us-west2</code></p></li></ul></div></td><td class="td"><p>The location reference</p></td></tr></tbody></table></div><h7 id="UUID-08f17876-24ca-3282-af84-b991dbf6de06_bridgehead-5d9fd069cdf24-idm45304091778672" class="bridgehead"><code class="literal">JSON</code> Response</h7><pre class="programlisting">// JSON format
{
    "status": "success",
    "msg": "",
    "data": [
        {
            "TrustedIdentities": "lambda.amazonaws.com",
            "own": "",
            "region_id": "",
            "account_name": "demo_1234",
            "region_name": "global",
            "asset_id": "demo-iam-1-2-3",
            "appname": "AWS",
            "Description": "Allows Lambda functions to call AWS services on your behalf.",
            "deletion_time": 0,
            "first_seen_time": 1569430257.14,
            "asset_type": "Role",
            "instance": "demo_1234",
            "metadata": {
                "TrustedIdentities": [
                    "lambda.amazonaws.com"
                ],
                "AssumeRolePolicy": {
                    "Version": "2019-10-17",
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "SID": null,
                            "Conditions": [],
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": null,
                                "Federated": null,
                                "Service": [
                                    "lambda.amazonaws.com"
                                ]
                            }
                        }
                    ]
                },
                "Description": "Allows Lambda functions to call AWS services on your behalf.",
                "InstanceProfile": [],
                "Policies": {
                    "Inline": [],
                    "Managed": [
                        {
                            "id": "arn:aws:iam::aws:policy/IAMFullAccess"
                        },
                        {
                            "id": "arn:aws:iam::aws:policy/AdministratorAccess"
                        },
                        {
                            "id": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                        }
                    ]
                },
                "CreationDate": 1563988648
            },
            "account_id": "1234567890",
            "tags": [],
            "alerts": {
                "count_medium": 0,
                "total_count": 0,
                "count_critical": 0,
                "count_high": 0,
                "count_low": 0
            },
            "has_policy": true,
            "asset_name": "demo-iam-1-2-3",
            "asset_category": "Identity",
            "entity_type": "IAMRole",
            "last_updated_time": 1569430257.14,
            "CreationDate": 1563988648
        },
...</pre><h7 id="UUID-08f17876-24ca-3282-af84-b991dbf6de06_bridgehead-5da0ed435aa31-idm45304091624848" class="bridgehead"><code class="literal">flatten</code> Response</h7><pre class="programlisting">// Flattened format
{
    "status": "success",
    "msg": "",
    "data": [
        {
            "TrustedIdentities": "lambda.amazonaws.com",
            "own": "",
            "region_id": "",
            "account_name": "demo_1234",
            "region_name": "global",
            "asset_id": "demo-iam-1-2-3",
            "appname": "AWS",
            "Description": "Allows Lambda functions to call AWS services on your behalf.",
            "deletion_time": 0,
            "first_seen_time": 1569430257.14,
            "asset_type": "Role",
            "instance": "demo_1234",
            "metadata.TrustedIdentities.0": "lambda.amazonaws.com",
            "metadata.AssumeRolePolicy.Version": "2012-10-17",
            "metadata.AssumeRolePolicy.Statement.0.Action": "sts:AssumeRole",
            "metadata.AssumeRolePolicy.Statement.0.SID": null,
            "metadata.AssumeRolePolicy.Statement.0.Effect": "Allow",
            "metadata.AssumeRolePolicy.Statement.0.Principal.AWS": null,
            "metadata.AssumeRolePolicy.Statement.0.Principal.Federated": null,
            "metadata.AssumeRolePolicy.Statement.0.Principal.Service.0": "lambda.amazonaws.com",
            "metadata.Description": "Allows Lambda functions to call AWS services on your behalf.",
            "metadata.Policies.Managed.0.id": "arn:aws:iam::aws:policy/IAMFullAccess",
            "metadata.Policies.Managed.1.id": "arn:aws:iam::aws:policy/AdministratorAccess",
            "metadata.Policies.Managed.2.id": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "metadata.CreationDate": 1563988648,
            "account_id": "1234567890",
            "alerts.count_medium": 0,
            "alerts.total_count": 0,
            "alerts.count_critical": 0,
            "alerts.count_high": 0,
            "alerts.count_low": 0,
            "has_policy": true,
            "asset_name": "demo-iam-1-2-3",
            "asset_category": "Identity",
            "entity_type": "IAMRole",
            "last_updated_time": 1569430257.14,
            "CreationDate": 1563988648
        },
...</pre></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-54cf0ab8-9f91-f383-8ad9-9731a6c9b5a5" data-time-modified="October 1, 2019" data-publication-date="" id="UUID-e46fbc5d-6519-1021-6078-c84cee2da04a"><div class="titlepage"><div><div class="title"><h6 class="title">View a Bucket List</h6></div></div></div><p>This endpoint returns a list of all buckets owned by the authenticated sender of the request, which shows how many buckets exists and their names.</p><h7 id="UUID-e46fbc5d-6519-1021-6078-c84cee2da04a_bridgehead-5c9404e7ea54d-idm46719506691520" class="bridgehead">Request</h7><pre class="programlisting">GET https://<span class="emphasis"><em>&lt;tenant-name&gt;</em></span>.goskope.com/api/v1/storage_constraint_profile?token=&lt;token&gt;&amp;op=viewBucketList&amp;name=&lt;bucket list name&gt;</pre><p>Valid parameters are:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:25%;"></col><col style="width:25%;"></col><col style="width:50%;"></col></colgroup><thead><tr><th class="th" data-priority="1"><p>Key</p></th><th class="th" data-priority="1"><p>Value</p></th><th class="th" data-priority="1"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">op</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">start</code></p></td><td class="td"><p>Starts the scan. Start is currently the only supported operator. </p></td></tr><tr><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal">name</code></p></td><td class="td"><p><code xml:lang="en" lang="en" dir="ltr" class="literal"><span class="emphasis"><em>&lt;policy_name&gt;</em></span></code> Example: <code class="literal">"MYCSA_POLICY"</code></p></td><td class="td"><p>Required. The bucket list name.</p></td></tr></tbody></table></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-d4b255de-4a3a-f2d6-04dd-39fcc482af98">Public Cloud API Endpoints</a></li><li><a href="#UUID-f0982e00-df68-96b2-50c7-ac19e8600286">Get Prep Info to Create an AWS Role</a></li><li><a href="#UUID-1016893d-4ee2-3f50-d669-cbe3b4487713">Create an AWS Instance</a></li><li><a href="#UUID-73a37a88-afaa-3d02-9e22-6df0dbc256f8">Create a Google Cloud Platform Instance</a></li><li><a href="#UUID-56a7bbf8-8e5c-7207-0eb5-2bcf8b27c147">Grant Netskope to Access an IaaS Instance</a></li><li><a href="#UUID-ead6741c-b0a0-e685-8958-675d3ae3e873">Get Instance Info</a></li><li><a href="#UUID-f3cf8481-2f28-32a6-4e07-60e571637253">Update an AWS Instance</a></li><li><a href="#UUID-c65c85da-5da6-efeb-2e9d-3d5826501ae6">Update an Azure Instance</a></li><li><a href="#UUID-d141210c-8a8c-27cb-81a2-d0a6f05a7fda">Update a GCP Instance</a></li><li><a href="#UUID-08204929-df44-e98a-de93-e56433c20457">Delete an IaaS Instance</a></li><li><a href="#UUID-e0de0d81-6dd7-1c63-b1a0-7a501cf68a35">Manage Multiple AWS Accounts</a></li><li><a href="#UUID-c9fac20b-4a34-118f-d908-ca1310a0b93b">Manage a Bucket List for a Constraint Profile</a></li><li><a href="#UUID-9183d801-ad3f-d370-73bf-945eec4a4cb0">Evaluate Custom Rules</a></li><li><a href="#UUID-82eda397-113f-0eb0-0b16-04895853d41a">Import and Export CSA Custom Rules</a></li><li><a href="#UUID-5fe0cc41-0c91-298d-2724-3231157fa61d">Start a CSA Scan</a></li><li><a href="#UUID-e7299f62-dfd4-27f6-6567-e559207f23db">Get a CSA Scan Status</a></li><li><a href="#UUID-ecdc9b2f-6f77-c0ed-3e63-7ec8290127d2">View Security Assessment Violations</a></li><li><a href="#UUID-08f17876-24ca-3282-af84-b991dbf6de06">View Cloud Provider Inventory</a></li><li><a href="#UUID-e46fbc5d-6519-1021-6078-c84cee2da04a">View a Bucket List</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Public%20Cloud%20API%20Endpoints%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Public%20Cloud%20API%20Endpoints%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="public-cloud-rest-apis.html">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="api-enabled-protection.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">February 10, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div></body></html>
