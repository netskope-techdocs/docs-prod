<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';

			
			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				
			
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Step 2/2: Configure AWS Permissions for Forensic</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="prev" href="step-1-2--configure-aws-accounts---services-for-forensic.html#UUID-04937054-801a-1a50-2ae3-3fe5ca44bf69_section-idm4614953632276831606587658727" title="Creating a CSV file"></link><link rel="next" href="step-2-2--configure-aws-permissions-for-forensic.html#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4616737387249631610336552066" title="What happens in the process?"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title">Netskope Help</h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"> <a href="index-en.html">Netskope Help</a></li><li class="breadcrumb-link"><a href="data-security.html">Data Security</a></li><li class="breadcrumb-link"><a href="netskope-public-cloud-security.html"><span class="phrase">Netskope Public Cloud Security</span></a></li><li class="breadcrumb-link"><a href="forensics-for-netskope-public-cloud-security.html">Forensics for <span class="phrase">Netskope Public Cloud Security</span></a></li><li class="breadcrumb-link"><a href="configure-amazon-web-services-s3-as-a-forensic-destination.html">Configure Amazon Web Services S3 as a Forensic Destination</a></li><li class="breadcrumb-node">Step 2/2: Configure AWS Permissions for Forensic</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="step-1-2--configure-aws-accounts---services-for-forensic.html#UUID-04937054-801a-1a50-2ae3-3fe5ca44bf69_section-idm4614953632276831606587658727">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="step-2-2--configure-aws-permissions-for-forensic.html#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4616737387249631610336552066">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-1aad0c86-5758-fa57-ecde-b08f4cc2fa9d" data-permalink="step-2-2--configure-aws-permissions-for-forensic.html" data-topic-level="1" data-relative-prefix="" data-time-modified="December 9, 2021" data-publication-date="" id="UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee"><div class="titlepage"><div><div class="title"><h6 class="title">Step 2/2: Configure AWS Permissions for Forensic</h6></div></div></div><p>Netskope requires permissions to perform certain actions in the AWS account such as creating a stack to receive CloudWatch events. This screen provides a customized CFT with permissions required to set up cross account access between Netskope and your AWS accounts. The permissions defined in the CFT are updated based on the services you've enabled in the Accounts &amp; Services page.</p><p>You can review the CFT to understand the various permissions required by Netskope.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Ensure that the AWS accounts have the permissions required to run the Netskope for IaaS services.</p></div><p>To complete the set up you must:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Download the CFT.</p></li><li class="listitem"><p>Upload the CFT to a new CloudFormation stack in each AWS account.</p></li><li class="listitem"><p>Confirm that a cross account role with the required permissions is created.</p></li></ol></div><p>Follow the detailed instructions below to complete the set up.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In the Permissions screen of the New Setup window, click the link to download the CFT.</p><div class="mediaobject"><img src="image/uuid-8df09f29-add1-e84e-99e1-1932813c9c84.png" style="" alt="multi-accountAWSsetup-1.png" title="multi-accountAWSsetup-1.png"></img></div></li><li class="listitem"><p>Log in to the AWS Management Console using the credentials of the AWS account you are setting up with Netskope for IaaS and navigate to <span class="bold bold"><strong>Services &gt; CloudFormation</strong></span>.</p></li><li class="listitem"><p>In the CloudFormation page, click <span class="bold bold"><strong>Create stack</strong></span>.</p><div class="mediaobject"><img src="image/uuid-996c28bd-776e-5203-dc4d-a8b8f1a1435d.png" style="" alt="create_stack.png" title="create_stack.png"></img></div><p>To create a stack with new resources, choose <span class="bold bold"><strong>With new resources (standard)</strong></span>.</p><p>To create a stack with existing resources, choose <span class="bold bold"><strong>With existing resources (import resources)</strong></span>.</p></li><li class="listitem"><p>Select <span class="bold bold"><strong>Upload a template file</strong></span> and click <span class="bold bold"><strong>Choose file</strong></span> to upload the <span class="bold bold"><strong>aws-instance-setup.yml</strong></span>. Click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><img src="image/uuid-edfa6337-d364-09f2-7e0d-6c8b5232db45.png" style="" alt="multi-accountAWSsetup-2.png" title="multi-accountAWSsetup-2.png"></img></div></li><li class="listitem"><p>In the Specify stack details page, specify a <span class="bold bold"><strong>Stack name</strong></span>.</p><p>The stack name must:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Only contain alphanumeric characters and hyphens,</p></li><li class="listitem"><p>start with an alphabet, and</p></li><li class="listitem"><p>not be longer than 128 characters.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-892a9fbc-90e0-643c-f824-7d7857f93633.png" style="" alt="multi-_accountAWSsetup-_forensic.png" title="multi-_accountAWSsetup-_forensic.png"></img></div></li><li class="listitem"><p>In the Parameters section of this page, specify the forensic bucket name where you want Netskope to store objects that have violated DLP Forensics. The bucket name must follow the naming rules specified by AWS.</p><p>To learn more about bucket naming rules, see the <a class="link" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html" target="_blank" rel="noopener">AWS documentation</a>.</p><p>Click <span class="bold bold"><strong>Next</strong></span>.</p></li><li class="listitem"><p>In the Configure stack options page, use the default configuration, and click <span class="bold bold"><strong>Next</strong></span>.</p></li><li class="listitem"><p>Review your stack details on the <span class="bold bold"><strong>Review</strong></span> page, click the acknowledgment and then click <span class="bold bold"><strong>Create stack</strong></span>.</p><p>When the creation process is complete, your stack will be displayed on the CloudFormation page.</p><p>You can click on the stack to view the details about the stack. The Resources tab displays the various components that are part of <span class="bold bold"><strong>aws-instance-setup.yml</strong></span>. The Template tab displays the permissions defined in the template.</p></li><li class="listitem"><p>In the Netskope UI, confirm that a cross account role with permissions is created in each AWS account. Click <span class="bold bold"><strong>Add Accounts</strong></span>.</p><div class="mediaobject"><img src="image/uuid-a323bdd5-7b65-2f51-e678-e113ae9bfd2d.png" style="" alt="multi-accountAWSsetup-3.png" title="multi-accountAWSsetup-3.png"></img></div><p>Netskope adds the AWS accounts to the <span class="bold bold"><strong>Settings &gt; API-enabled Protection &gt; Cloud Infrastructure</strong></span> page. The page also displays the services that are enabled for each account.</p><div class="mediaobject"><img src="image/uuid-dad696fa-aeee-ca26-ade9-6c9a2df6a2c3.png" style="" alt="multi-accountAWSsetup-4.png" title="multi-accountAWSsetup-4.png"></img></div></li></ol></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4616737387249631610336552066"><div class="titlepage"><div><div class="title"><h6 class="title">What happens in the process?</h6></div></div></div><p>Netskope assumes an IAM role which enables Netskope to write and delete objects from the S3 bucket that you have defined as the forensic destination. Additionally, Netskope also uses the IAM role permissions to list all the buckets and get the locations of all the buckets in your account.</p><p>To learn more about defining an S3 bucket as the forensic destination, see <a class="xref" href="step-2-2--configure-aws-permissions-for-forensic.html#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4486002764432032764428890049" title="Create a Forensic Profile"><span class="xreftitle">Create a Forensic Profile</span></a>.</p><div class="informaltable table-responsive"><table class="informaltable table-bordered"><thead><tr><th class="th" data-priority="1"><p>AWS Permissions for ForensicsPolicy</p></th><th class="th" data-priority="1"><p>Purpose</p></th></tr></thead><tbody><tr><td class="td"><p>s3:GetObject</p></td><td class="td"><p>This implementation of the GET operation retrieves objects from Amazon S3.</p></td></tr><tr><td class="td"><p>s3:PutObject</p></td><td class="td"><p>This implementation of the PUT operation puts objects that violate DLP Forensics into an Amazon S3 bucket.</p></td></tr><tr><td class="td"><p>s3:ListBucket</p></td><td class="td"><p>Lists a specific bucket</p></td></tr><tr><td class="td"><p>s3:ListAllMyBuckets</p></td><td class="td"><p>This implementation of the GET operation returns a list of all buckets owned by the authenticated sender of the request.</p></td></tr><tr><td class="td"><p>s3:GetBucketLocation</p></td><td class="td"><p>This implementation of the GET operation uses the location subresource to return a bucket's region.</p></td></tr></tbody></table></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>The <span class="bold bold"><strong>NetskopeStack</strong></span> is managed by Netskope and must not be manually updated.</p></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4486002764432032764428890049"><div class="titlepage"><div><div class="title"><h6 class="title">Create a Forensic Profile</h6></div></div></div><p>You can now create a Forensic Profile to receive forensic data. In the Netskope UI, go to <span class="bold bold"><strong>Policies &gt; Forensic</strong></span> and specify the AWS instance name and S3 bucket name. To learn more: <a class="xref" href="create-a-forensic-profile.html" title="Create a Forensic Profile"><span class="xreftitle">Create a Forensic Profile</span></a>.</p><p>When the profile is created, Netskope creates a README.txt file in the S3 bucket to verify the destination bucket.</p><p>You can view alerts under <span class="bold bold"><strong>Incidents &gt; DLP</strong></span>.</p></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee">Step 2/2: Configure AWS Permissions for Forensic</a></li><li><a href="#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4616737387249631610336552066">What happens in the process?</a></li><li><a href="#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4486002764432032764428890049">Create a Forensic Profile</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Step%202/2:%20Configure%20AWS%20Permissions%20for%20Forensic%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Step%202/2:%20Configure%20AWS%20Permissions%20for%20Forensic%22%20in%20the%20publication%20%22Netskope%20Help%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" id="header-navigation-prev" class="pull-left prev visible-lg visible-md" href="step-1-2--configure-aws-accounts---services-for-forensic.html#UUID-04937054-801a-1a50-2ae3-3fe5ca44bf69_section-idm4614953632276831606587658727">Prev</a></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="step-2-2--configure-aws-permissions-for-forensic.html#UUID-36636fb2-d2eb-6cc7-eefe-9790522b3dee_section-idm4616737387249631610336552066">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">December 9, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
