<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="1"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><script type="text/javascript">
var theme = '1';


			var versionsfile = '';


			var indexDict = new Array();
			var store = {};
			var portalLanguage = 'en';
			var enterKey = 'select';


				var fuse_threshold = 0.3;

					var local_csh = false;

					var anchoroption = true;


			var useanchorlinks = false;

				useanchorlinks = true;

				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><title>Netskope Private Access User Guide</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1.css"></link><link rel="stylesheet" type="text/css" href="../css/theme1-colors.css"></link><link rel="stylesheet" type="text/css" href="../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../css/rwd-table.min.css"></link><link rel="stylesheet" type="text/css" href="../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../css/layout-custom-style.css"></link><script src="../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.smartmenus.js" type="text/javascript"></script><script src="js/toc.js" type="text/javascript"></script><script src="../js/create-toc.js" type="text/javascript"></script><script src="../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../js/html5-2.js" type="text/javascript"></script><script src="../js/checklist.js" type="text/javascript"></script><script src="../js/rwd-table.min.js" type="text/javascript"></script><script src="../js/responsive-tables.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/anchorlinks.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><script src="../js/jquery.paligocode.js" type="text/javascript"></script><script src="../js/layout-custom-script.js" type="text/javascript"></script><meta name="generator" content="Paligo"></meta><link rel="next" href="index-en.html#UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d" title="About Netskope Private Access"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript">var containerid = 'GTM-W56WJ8S';

						(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
						new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
						j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
						'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
						})(window,document,'script','dataLayer',containerid);
					</script><script type="text/javascript">
				$(document).ready(function () {
				$(".mediaobject img").addClass('materialboxed');
				//Exclude images with links
				$(".mediaobject a img").removeClass('materialboxed');
				if (!document.documentMode) {
				$('.materialboxed').materialbox();
				}});
			</script></head><body class="theme1 fixed-toolbar colored-top page-toc current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix=""><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div id="navbar" class="navbar-collapse collapse"></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="../index.html?lang=en"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><form class="site-sidebar-search" autocomplete="off"><input type="text" class="form-control search-field" placeholder="Search" id="aa-search-input"></input></form><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><h1 class="publication-title"><span class="phrase">Netskope Private Access</span><span class="phrase"> User Guide</span></h1><div class="toolbar"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"></div><div class="tool-print print-icon"><a onclick="window.print();return false;"><i class="fa fa-print" aria-hidden="true"><span class="print-text">print</span></i></a></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-node"> <span class="phrase">Netskope Private Access</span><span class="phrase"> User Guide</span></li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="index-en.html#UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="article" id="UUID-299bc6dd-413b-c4c5-5cf2-82170c02ad73"><div class="titlepage"><div><div><h2 class="title"><span class="phrase">Netskope Private Access</span><span class="phrase"> User Guide</span></h2></div></div></div><p><span class="phrase">Netskope Private Access</span> provides zero trust network access to private applications and data in hybrid IT (public cloud and data center) environments. It is an integral capability of the Netskope Security Cloud and offers seamless connectivity for authenticated users, supports any application and protocol, reduces business risk, and simplifies IT infrastructure.</p><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-755ed7cf-0a66-b378-76d1-40314a36f476" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_body" data-parent="#UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d"><div><div class="title"><h2 class="title" style="clear: both"><span class="phrase">About </span> <span class="phrase">Netskope Private Access</span></h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_body"><p><span class="phrase">Netskope Private Access</span> (NPA) is part of the Netskope security cloud and enables zero-trust secure access to private enterprise applications in Hybrid IT. NPA is a modern remote access service that:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Fans out to enable access to applications in multiple networks, both in the public cloud (AWS/Azure/GCP) and in the datacenter.</p></li><li class="listitem"><p>Provides zero trust application level access instead of network access with lateral movement.</p></li><li class="listitem"><p>Is delivered as a cloud service with a worldwide footprint that scales easily.</p></li></ul></div><p>NPA delivers these benefits through a capability called Service Publishing. Service Publishing makes enterprise applications available at and through the Netskope cloud platform instead of at the enterprise's network edge.</p><p>The Netskope cloud platform becomes the location on the internet through which enterprise applications are accessed, in a sense, externalizing the access components of the DMZ.  Externalizing remote access in this way has several advantages over traditional VPN and Proxy-based remote access approaches.  And Service Publishing’s overall architecture and delivery-as-a-service model is consistent with the IT trends of infrastructure as a service, Hybrid IT, and the decentralized delivery of enterprise applications from datacenter, public cloud, and SaaS.  NPA is illustrated in this diagram:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:585px;
                            "><tr><td style="padding:0;"><img src="image/uuid-0d8a2b73-8841-1280-e281-f4a860e2f536.png" style="max-width: 585px; " alt="NPAdiagram.png"></img></td></tr></table></div><p><span class="phrase">Netskope Private Access</span> extends Netskope’s platform for secure access to SaaS and Web to include secure access to Private Applications that live behind an enterprise’s firewalls in the datacenter and the public cloud.</p><p>To watch a video about configuring <span class="phrase">Netskope Private Access</span>, click play:</p><div class="mediaobject"><div class="video-container wistia"><div class="videoobject"><script async="" src="https://fast.wistia.com/embed/medias/ln0zvxwith.jsonp"></script><script async="" src="https://fast.wistia.net/assets/external/E-v1.js"></script><div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><div style="height:100%;width:100%" class="wistia_embed wistia_async_ln0zvxwith seo=false videoFoam=true"> </div></div></div></div></div></div><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-5d264b8115047-idm45315549142192" class="bridgehead">Prerequisites</h3><p>In order to configure private apps with a publisher, you need to:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Purchase the <span class="phrase">Netskope Private Access</span> license and contact Support to have it enabled in your tenant..</p></li><li class="listitem"><p>Choose a private app to be published.</p></li><li class="listitem"><p>Collect information about the app: host, port(s).</p></li><li class="listitem"><p>Identify the network on which the app is running.</p></li><li class="listitem"><p>Be using release 70 or later of the Netskope Client.</p></li></ol></div><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-idm4646117360766431666970593111" class="bridgehead">Requirements and Recommendations</h3><p>Before deploying a Publisher, factor these requirements and recommendations:</p><p><span class="strong strong"><strong>General VM Requirements</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>2 CPUs</p></li><li class="listitem"><p>4GB RAM</p></li><li class="listitem"><p>8GB HDD space</p></li></ul></div><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-idm4593745108008032622994717462" class="bridgehead">Network Time Protocol </h3><p>For Network Time Protocol (NTP), either:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Ensure your local NTP servers are synchronized properly (this is generally required in case of DHCP networking configuration).</p></li><li class="listitem"><p>Ensure that access to Internet NTP servers works properly.</p></li></ul></div><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-idm4662505298545632611073597754" class="bridgehead">Supported Browers</h3><p>NPA has been tested on these browsers:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Google Chrome Version 92.0.4515.159 (Official Build) (x86_64) on Big Sur</p></li><li class="listitem"><p>Google Chrome Version 92.0.4515.159 (Official Build) (x86_64) on Mojave</p></li><li class="listitem"><p>Safari Version 14.1.2 (14611.3.10.1.5) on Mojave</p></li><li class="listitem"><p>Brave Version 1.26.67 Chromium: 91.0.4472.114 (Official Build) (x86_64)</p></li><li class="listitem"><p>Chrome Version 92.0.4515.159 (Official Build) (x86_64) on Catalina</p></li><li class="listitem"><p>Firefox 91.0.1 (64-bit) (on Mac Catalina)</p></li><li class="listitem"><p>Edge Version 80.0.361.69 (Official build) (64-bit)</p></li><li class="listitem"><p>Microsoft Edge Version 92.0.902.78 (Official build) (64-bit) Windows 10</p></li></ul></div><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-idm232282674274766" class="bridgehead">Publisher Capacity</h3><p>When considering publisher capacity and scaling the following are key points to consider:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Each publisher can handle around 160 Mbps of throughput.</p></li><li class="listitem"><p>A Publisher is agnostic to the number of users that traverse it.</p></li><li class="listitem"><p>A Publisher is limited to using a single IP address for both inbound and outbound connections. A single publisher should not be tasked with handling more than 32,000 concurrent TCP or UDP connections.</p></li></ul></div><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-idm232282675096168" class="bridgehead">Scaling Publishers for Large Apps or Wildcard Networks/Domains</h3><p>While publishers are agnostic to the number of users, the number of users that are supported by a single publisher is dependent on the type of applications used. Use the information below to help determine maximum number of users per publisher based on the applications used:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For web applications, browsers can open up to six concurrent connections per domain. For the purpose of sizing, the recommendation is to divide 32,000 by 6 to derive how many maximum concurrent users may be using a single publisher if it's providing access to an HTTP-based application.</p></li><li class="listitem"><p>For FTP workloads, it’s 2 TCP connections per user per FTP session.</p></li><li class="listitem"><p>For SSH/SQL connections, it’s one TCP connection per user.</p></li></ul></div><p>To scale access to broad networks and/or large applications that need to accommodate access that exceeds the capability of available publishers in a particular location, the following publisher cluster approach can be used. A round robin mechanism to load balancing clients across publishers is used.</p><p>An environment may only have a single publisher installed, with the goal of adding additional publishers in a cluster to scale. In order for Netskope to distribute the load evenly across the new publishers in the cluster, it is recommended to reboot the original publisher. This will force the users to be spread across the cluster of publishers for a more even distribution.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-e1a25a87-5c00-7b78-2cb1-3b930f4c1b52.png" style="max-width: 540px; " alt="ScalingPublishers.png"></img></td></tr></table></div><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Netskope does not recommend spreading publishers serving the same application across different physical locations or geographic regions as this could result in higher latency for some users.</p></div><p><span class="strong strong"><strong>Networking Services</strong></span></p><p>Network:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Publishers should have network connectivity to your internal apps.</p></li><li class="listitem"><p>Publishers should have network connectivity (outbound) to the Internet to reach various Netskope services: configuration, gateways, upgrade, and other service endpoints.</p></li></ul></div><p>DNS: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Publishers should be able to resolve internal service names, for example: <code class="literal">myapp.example.com</code>.</p></li><li class="listitem"><p>Publishers should be able to resolve external service names (on the Internet), including the various Netskope services: configuration, gateways, upgrade, and other service endpoints.</p></li></ul></div><p>SSH:</p><p>You should be able to SSH into the Publisher from an internal desktop computer for basic administration tasks, such as passing the registration token to the Publisher during initial setup and troubleshooting any issues which might arise. A publisher cannot be used to connect to itself.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you deploy the Publisher VM into a network with DHCP services, it should pick up a valid networking configuration automatically, including an IP address, default gateway, and DNS.</p></li><li class="listitem"><p>If you deploy the publisher VM into a network without DHCP services, you must configure a static IP address, default gateway, and DNS.</p></li><li class="listitem"><p>Netskope recommends that your network includes DHCP.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Publishers may be subject to SSL interception. Make sure that access to <span class="emphasis"><em>*.npa.goskope.com</em></span> is <span class="phrase">allowlisted</span> from SSL interception.</p></div><h3 id="idm45527600417760" class="bridgehead">Network Settings</h3><p>In the NPA Publisher Wizard (available via your virtualization console or after SSHing to a running Publisher), you can now select Network Settings for configuration details.</p><p>There are two configuration options available:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>DHCP: This allows you to specify a network adapter for DHCP configuration. eth0 is used in the example, but other adapters may be present depending on your NPA Publisher hardware configuration. For example, ens32 or similar will be present on NPA Publishers deployed to VMWare.</p></li><li class="listitem"><p>Static IP: This option allows you to specify static IP address configurations in environments where DHCP configuration is not possible. The following values must be provided as part of this configuration:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Network Adapter</p></li><li class="listitem"><p>IP Address and Mask: For example, 192.168.1.189/24</p></li><li class="listitem"><p>Gateway: For example, 192.168.1.1</p></li><li class="listitem"><p>DNS Servers: We recommend using two DNS server IP addresses, though only 1 is required.</p></li><li class="listitem"><p>Default Search Domain: This configuration is typically set to match the domain name of your company.</p></li></ul></div></li></ul></div><h3 id="idm45527600412576" class="bridgehead">iOS Profile Use with <span class="phrase">Netskope Secure Web Gateway</span> and <span class="phrase">Netskope Private Access</span></h3><p>For <span class="phrase">Netskope Secure Web Gateway</span> (and CASB), the iOS profile created uses an <span class="emphasis"><em>on-demand</em></span> VPN on iOS devices. For <span class="phrase">Netskope Private Access</span> installing the Client creates another <span class="emphasis"><em>always on VPN</em></span> profile. You can only use one of these profiles at a time on an iOS device.</p><p>Both of the profiles are independent and can be created on the same device. Depending on the resource the you  want to access, you'll need to go to iOS settings and switch between the iOS profiles.</p><h3 id="UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d_bridgehead-5d264b9f6ae50-idm45601212398416" class="bridgehead">Workflow</h3><p>You can grant access to multiple private apps by repeating the following steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create a publisher.</p></li><li class="listitem"><p>Deploy the publisher on your network.</p></li><li class="listitem"><p>Create a private app.</p></li><li class="listitem"><p>Steer traffic for the private app.</p></li><li class="listitem"><p>Add users.</p></li><li class="listitem"><p>Create policies so users can access a private app.</p></li><li class="listitem"><p>Deploy the Netskope Client on devices.</p></li><li class="listitem"><p>View Network and Page events in SkopeIT.</p></li></ol></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>The same publisher can be used to give access to multiple apps which resides on the same network.</p></div><p>If you need private apps in different networks (which are not routable from one to another), you will need to repeat these steps for each:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Create a publisher.</p></li><li class="listitem"><p>Deploy a publisher.</p></li></ul></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-a808b129-465d-02cc-cf41-a138e82ce92d" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-6f154093-83c2-6b15-ab70-baee962af7a5"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-6f154093-83c2-6b15-ab70-baee962af7a5_body" data-parent="#UUID-6f154093-83c2-6b15-ab70-baee962af7a5"><div><div class="title"><h2 class="title" style="clear: both">Private Apps Configuration Methods</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-6f154093-83c2-6b15-ab70-baee962af7a5_body"><p>This topic explains how to configure Private Apps for DNS, domain controllers, and SMB/CIFS file shares.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm45527600395152"><div class="titlepage"><div><div class="title"><h3 class="title">Private Apps - DNS</h3></div></div></div><p>The Private App configuration allows for DNS requests to be sent over the Private Access connection for any host within the domain and resolve the hosts back to an IP. This also applies for the many obscure subdomains required to query for domain joins, group policy queries, and FSMO role owner lookups. </p><p>A port definition is required when defining a Private App. For this definition, we do not care what port is defined because with Publisher DNS enabled, it will be handling the traffic. Because this requires something to be defined, we will use post 53.</p><p>The <code class="literal">_gc._tcp.domain.com</code> and <code class="literal">_ldap._tcp._sites.DomainDnsZones.domain.com</code> addresses will always resolve back to one (or more) domain controllers, and the domain specification without the wildcard is required for CIFS connectivity to the domain (again, always one of the domain controllers), when pulling group policy updates. This is the easiest configuration method without having to define all of the possible things a client machine might try to access.</p><p><span class="bold bold"><strong>Host</strong></span></p><pre class="programlisting">*.domain.com
domain.com</pre><p><span class="bold bold"><strong>Protocol &amp; Port</strong></span></p><pre class="programlisting">UDP 53</pre><p><span class="bold bold"><strong>Publisher</strong></span></p><p>Whatever is relevant for domain machines.</p><p><span class="bold bold"><strong>Publisher DNS</strong></span></p><pre class="programlisting">enabled</pre></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm45527600393936"><div class="titlepage"><div><div class="title"><h3 class="title">Private Apps - Domain Controllers</h3></div></div></div><p>The Private App configuration takes the previously resolved IP from the DNS lookup, and steers based on that. You provide all of the possible Domain Controllers’ IP’s here. You can also specify the shortform netbios name here as well if you wish, such as DC01, but you don’t use the FQDN.</p><p><span class="bold bold"><strong>Host</strong></span></p><pre class="programlisting">x.x.x.x (List of Domain Controller IPs)
DC01 (netbios name)</pre><p><span class="bold bold"><strong>Protocol &amp; Port</strong></span></p><p><span class="emphasis"><em>TCP</em></span></p><pre class="programlisting">88,135,137,139,389,464,636,1512,3268,3269,5357,49152-65535
</pre><p><span class="emphasis"><em>UDP</em></span></p><pre class="programlisting">88,123,135,137,138,389,464,1512,5357</pre><p><span class="bold bold"><strong>Publisher</strong></span></p><p>Whatever is relevant for domain machines.</p><p><span class="bold bold"><strong>Publisher DNS</strong></span></p><pre class="programlisting">disabled</pre><p>Port breakdown is as follows:</p><p><span class="emphasis"><em>TCP</em></span></p><p><code class="literal">88</code> - Kerberos query
<code class="literal">135</code> - Remote Procedure call
<code class="literal">137</code> - NetBIOS name
<code class="literal">139</code> - Netbios session
<code class="literal">389</code> - LDAP (plain text)
<code class="literal">464</code> - Kerberos password change
<code class="literal">636</code> - LDAP (secure) - might not be required.
<code class="literal">1512</code> - WINS - might not be required.
<code class="literal">3268</code> - LDAP to Global Catalog
<code class="literal">3269</code> - LDAP to Global Catalog (secure) - might not be required.
<code class="literal">5357</code> - Network Discovery - might not be required.
<code class="literal">49152-65535</code> - Upper range ephermal ports. Required... Sadly. Domain integration only requires TCP.</p><p><span class="emphasis"><em>UDP</em></span></p><p><code class="literal">88</code> - Kerberos query
<code class="literal">123</code> - NTP - used to set client time from domain controllers
<code class="literal">135</code> - Remote Procedure call
<code class="literal">137</code> - NetBIOS name
<code class="literal">138</code> - NetBIOS datagram
<code class="literal">389</code> - LDAP (plain text)
<code class="literal">464</code> - Kerberos password change
<code class="literal">1512</code> - WINS - might not be required.
<code class="literal">5357</code> - Network Discovery - might not be required.</p><p>Note that SMB isn’t covered in this. Because file servers are typically addressable by all users, we normally split this out into a seperate application, and you’ll then be able to add any non-domain controller machines into it as well.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="idm45527600385264"><div class="titlepage"><div><div class="title"><h3 class="title">Private Apps - SMB/CIFS</h3></div></div></div><p>You may also want a separate method for the Remote Desktop Access to the machines. This depends on how your business operates, but typically you’ll have a single app with an individual server IPs specified within it for port <code class="literal">3389</code>, and if you have users that access a service on a different server (Citrix for instance), you define that separately. </p><p>So you might have an app entitled Remote Desktop - Admins, and an app entitled Remote Desktop - Users. From a policy standpoint, you’d assign the admins both of these apps by group, and the users (just relevant one). The other defined methods above would be applied to All users.</p><p><span class="bold bold"><strong>Host</strong></span></p><pre class="programlisting">x.x.x.x (List of File Server IPs)
fileserver01 (netbios name)</pre><p>Also any other file servers specified by IP and netbios name.</p><pre class="programlisting">10.104.120.221
fileserver01</pre><p><span class="bold bold"><strong>Protocol &amp; Port</strong></span></p><p>TCP </p><pre class="programlisting">445</pre><p><span class="emphasis"><em>UDP</em></span></p><pre class="programlisting">445</pre><p><span class="bold bold"><strong>Publisher</strong></span>
Whatever is relevant for domain machines.</p><p><span class="bold bold"><strong>Publisher DNS</strong></span></p><pre class="programlisting">disabled</pre></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-6a0a752b-6d35-92dc-c4a6-d4e7161db29c" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-85164666-c436-ac4a-cc1a-988b2bf22678"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-85164666-c436-ac4a-cc1a-988b2bf22678_body" data-parent="#UUID-85164666-c436-ac4a-cc1a-988b2bf22678"><div><div class="title"><h2 class="title" style="clear: both">Create a New Publisher</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-85164666-c436-ac4a-cc1a-988b2bf22678_body"><p>Create a publisher to deploy on your network and use with a private app. The token generated in this procedure is used to deploy the publisher, so be sure to make a copy.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Publishers</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>New Publisher</strong></span>.</p></li><li class="listitem"><p>Enter a publisher name (like <code class="literal">AWS US-WestWing publisher</code>).</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-41416e54-d77e-2f8e-a303-3d243e201d19.png" style="max-width: 360px; " alt="NewPublisher1.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save and Continue</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Generate Token</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-4c2ba60d-9c22-9704-44a9-dbc69a58b0df.png" style="max-width: 360px; " alt="NewPublisher2.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Copy</strong></span> to get the registration token.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Done</strong></span>.</p></li></ol></div><p>After deploying the publisher, return to the Publisher page to verify the status is <span class="emphasis"><em>Connected</em></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-0d256feb-e71d-ba2b-c737-9b7576d2ffa6.png" style="max-width: 360px; " alt="NewPublisher3.png"></img></td></tr></table></div><p>The Publishers page shows each Publisher's name, status, version, CN, and number of connected apps. To customize the columns shown on the page, click the gear icon <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-af67306d-91fb-ae43-f731-82ddc4bb0594.png" alt="GearIconBlue.png"></img></span> in the table header and check the columns you want to see. To edit the name or delete a Publisher, click the menu icon <span class="inlinemediaobject"><img style="max-width: 14px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075.png" alt="MenuIcon.png"></img></span> in the row a Publisher is listed.</p></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-31d181db-79ee-829b-adcd-e5e7f29311a3" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_body" data-parent="#UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041"><div><div class="title"><h2 class="title" style="clear: both">Deploy a Publisher</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-a130a62f-71ed-c424-9a68-7c9d3d9b8041_body"><p>The Netskope Private Access Publisher can be deployed on AWS, Azure, VMWare ESX, and any CentOS-based virtual machine (VM). The following sections provide instructions for each of these deployments.</p><p>The publisher needs to be deployed on the network where the private app will be accessed. </p><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-c9cb22f6-462a-5da1-0b8b-0e9175041f58" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-a91211c6-d39a-e29f-90fa-37d17babe774_body" data-parent="#UUID-a91211c6-d39a-e29f-90fa-37d17babe774"><div><div class="title"><h3 class="title">Configure a Publisher in AWS</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774_body"><div class="panel-inner"><p>Perform these steps in the AWS console.</p><h4 id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774_bridgehead-5d1a7c1e758b2-idm45839551205056" class="bridgehead">Launch an EC2 Instance</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Sign in to your Amazon Web Services (AWS) console.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Services &gt; Find services</strong></span>. Search for and then select <span class="bold bold"><strong>EC2</strong></span>.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Instances</strong></span> in the left sidebar menu.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Launch Instance</strong></span>.</p></li></ol></div><h4 id="idm45527600308096" class="bridgehead">Choose an Amazon Machine Image (AMI)</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Click <span class="strong strong"><strong>AWS Marketplace</strong></span> in the left sidebar menu.</p></li><li class="listitem"><p>Enter <code class="literal">Netskope</code> in the search bar.</p></li><li class="listitem"><p><code class="literal">Netskope Private Access Publisher</code> should appear in the search results. Click <span class="bold bold"><strong>Select</strong></span>.</p></li></ol></div><h4 id="idm45527600303904" class="bridgehead">Choose an Instance Type</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select <span class="strong strong"><strong>t3.medium</strong></span> as the instance type.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Next: Configure Instance Details</strong></span>.</p></li></ol></div><h4 id="idm45527600300896" class="bridgehead">Configure Instance Details</h4><p>The token you copied from the Netskope UI is needed to complete these steps.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Enter <code class="literal">1</code> in the <span class="strong strong"><strong>Number of instances</strong></span> field.</p></li><li class="listitem"><p>Select the VPC where the application you want to publish via Netskope is deployed in the Network field.</p></li><li class="listitem"><p>Keep the default values for the remaining fields.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Advanced Details</strong></span> to expand this section.</p></li><li class="listitem"><p>In the User data section, select the <span class="strong strong"><strong>As text</strong></span> option.</p></li><li class="listitem"><p>Enter the Netskope Publisher registration token into the User Data text field.</p></li></ol></div><h4 id="idm45527600293984" class="bridgehead">Add a Name Tag</h4><p>Adding a name tag is optional, but doing so will make it easier to identify your Netskope Publisher EC2 instance.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Click the <span class="strong strong"><strong>Add Tags</strong></span> tab, near the top of the page.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Add Tag</strong></span>.</p></li><li class="listitem"><p>Enter <code class="literal">Name</code> in the Key field.</p></li><li class="listitem"><p>Enter <code class="literal">AWS US-WestWing publisher</code> in the Value field.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Review and Launch</strong></span>.</p></li></ol></div><h4 id="idm45527600287680" class="bridgehead">Review Instance Launch</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Review the information in the AMI Details Instance Type sections.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Launch</strong></span>.</p></li><li class="listitem"><p>Select or create a key pair.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Launch Instances</strong></span>.</p></li><li class="listitem"><p>Review the information on the Launch Status page.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>View Instances</strong></span>.</p></li></ol></div><h4 id="idm45527600282320" class="bridgehead">View Instances</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>You should now see a new EC2 instance with the name <code class="literal">AWS US-WestWing publisher</code> (if you completed the <span class="emphasis"><em>Add a Name Tag</em></span> steps).</p></li><li class="listitem"><p>AWS typically takes several minutes to launch EC2 instance and run status checks. Wait until your <span class="strong strong"><strong>Instance State</strong></span> is Running and <span class="strong strong"><strong>Status Checks</strong></span> have passed.</p></li></ol></div><h4 id="UUID-a91211c6-d39a-e29f-90fa-37d17babe774_bridgehead-idm231931532066121" class="bridgehead">Register the Publisher</h4><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SSH into the Publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>).</p></li><li class="listitem"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="listitem"><p>When requested, enter the Netskope registration token, and then click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. Change this password as soon as possible to ensure a secure configuration.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-47a6367f-2141-c07d-18bc-bba81d42e6eb" data-time-modified="August 2, 2019" data-publication-date="" id="UUID-ae117d1f-7940-969a-25e2-bd3d92685c97"><div class="titlepage"><div><div class="title"><h4 class="title">Factor Firewall Rules</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>If you have a firewall (as an example AWS "Security groups") between the publisher and the application, it needs to be configured to allow the publisher to access the application.</p></li><li class="listitem"><p>For AWS: Modify the applications security group to allow inbound connections from the publisher on applications ports.</p><p>Notes on Security groups:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A publisher doesn't need any inbound connections. A a result, you can configure security groups to deny all inbound traffic.</p></li><li class="listitem"><p>A publisher needs access to DNS and to private access cloud (on port 443). </p></li></ul></div></li></ol></div></section></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-585f46ff-cd86-9b9c-699e-d2fe3aa5e2aa" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_body" data-parent="#UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b"><div><div class="title"><h3 class="title">Configure a Publisher in Azure</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_body"><div class="panel-inner"><p>Perform these steps in the Azure console.</p><h4 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-5d1a85cfd6488-idm45839550874880" class="bridgehead">Create a Virtual Machine (VM)</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Login to Microsoft Azure portal ( <a class="link" href="https://portal.azure.com/" target="_blank" rel="noopener">https://portal.azure.com/</a> )</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Virtual machines</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>+ Add</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>See all images</strong></span> and then search for <code class="literal">CentOS-based Rogue</code>.</p></li><li class="listitem"><p>Choose <span class="bold bold"><strong>CentOS-based 7.7 by Rogue Wave Software</strong></span> (publisher).</p></li><li class="listitem"><p>Select <span class="bold bold"><strong>Standard D2s v3</strong></span> (2 vcpus, 8 GB memory) as the size.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>B1ms is good for most small deployments.</p></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Create</strong></span>.</p></li><li class="listitem"><p>Enter a machine name (Example: <code class="literal">NetskopePublisher</code> for Name).</p></li><li class="listitem"><p>Enter <code class="literal">centos</code> for Username.</p></li><li class="listitem"><p>Copy and paste your public SSH key under SSH public key. If you do not have a public SSH key, click <span class="bold bold"><strong>Generate new key pair</strong></span>.</p></li><li class="listitem"><p>Choose an existing or create a new Resource group under Resource Group. For testing, we recommend you create a new Resource group. The resource group is like a folder where it puts all VM associated resources.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>OK</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Select</strong></span>.</p></li><li class="listitem"><p>Choose <span class="bold bold"><strong>SSH</strong></span> for Select public inbound ports.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>OK</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Create</strong></span>.</p></li><li class="listitem"><p>Wait until Deployment will be finished.</p></li></ol></div><h4 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-5d1a87557cd6e-idm45764266803360" class="bridgehead">Open an SSH Session</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Click <span class="bold bold"><strong>Virtual machines</strong></span>.</p></li><li class="listitem"><p>Select the newly created VM.</p></li><li class="listitem"><p>Find a public IP address.</p></li><li class="listitem"><p>On your computer terminal execute: <code class="literal">ssh -i  <span class="emphasis"><em>&lt;your_private_ssh.key&gt;</em></span> centos@<span class="emphasis"><em>&lt;ipaddress&gt;</em></span></code>.</p></li></ol></div><h4 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-5d1a876c3be2b-idm45839550875072" class="bridgehead"><span class="strong strong"><strong>Install Netskope Publisher</strong></span></h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Run this command in your SSH session:</p><pre class="programlisting">curl https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/generic/bootstrap.sh | sudo bash; sudo su - $USER; exit</pre></li><li class="listitem"><p>This will take about 10 minutes. At the end of this process, you have a fully functional Netskope Publisher and can register it.</p></li></ol></div><h4 id="UUID-16851396-ce43-3e09-f3f8-adbb7b8ecd7b_bridgehead-idm231931532066121" class="bridgehead">Register the Publisher</h4><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SSH into the Publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>).</p></li><li class="listitem"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="listitem"><p>When requested, enter the Netskope registration token, and then click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. Change this password as soon as possible to ensure a secure configuration.</p></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-4ed72113-3b51-cc1a-903e-a8c56d35c574" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-511a8428-4a0a-c45b-506a-5e1e569a6404"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-511a8428-4a0a-c45b-506a-5e1e569a6404_body" data-parent="#UUID-511a8428-4a0a-c45b-506a-5e1e569a6404"><div><div class="title"><h3 class="title">Configure a Publisher in GCP</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-511a8428-4a0a-c45b-506a-5e1e569a6404_body"><div class="panel-inner"><p>The Netskope Publisher allows for zero trust network access to applications and hosts in your public cloud or private data center.  This includes the ability to leverage a Publisher in Google Cloud Platform.  </p><p>This topic explains how to upload an OVA into Google Cloud Platform Storage and import it into a compute instance. Knowledge of the Netskope UI and Google Cloud Platform are required, along with:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A Netskope Tenant</p></li><li class="listitem"><p>A copy of your tenant REST API token</p></li><li class="listitem"><p>Netskope Publisher OVA file from your tenant</p></li><li class="listitem"><p>A Google Cloud Platform account with a working VPC setup and API permissions.</p></li></ul></div><p>To configure a Publisher in GCP:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Log in to Google Cloud Platform at <a class="link" href="https://console.cloud.google.com/" target="_blank" rel="noopener">https://console.cloud.google.com/</a>.</p></li><li class="listitem"><p>Click the menu icon in the top left and select <span class="bold bold"><strong>Compute Engine</strong></span> and then <span class="strong strong"><strong>VM instances</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-c0aa1192-fe2b-20a5-94ac-193440926c2e.png" style="max-width: 360px; " alt="image1.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="strong strong"><strong>Create Instance</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:270px;
                            "><tr><td style="padding:0;"><img src="image/uuid-f27ca1ed-0c56-47d6-cad2-95209fe62714.png" style="max-width: 270px; " alt="image2.png"></img></td></tr></table></div></li><li class="listitem"><p>Enter a name for the instance, like <code class="literal">netskope-publisher</code>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a659c79f-c419-cb6f-7640-3d5fe6764c94.png" style="max-width: 360px; " alt="image3.png"></img></td></tr></table></div></li><li class="listitem"><p>Select a Region and Zone.  For testing purposes this can be anything.  In a production environment, you want to enter the region and zone where the applications reside. </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-27217ccd-15cf-7e86-5525-ed762072902b.png" style="max-width: 360px; " alt="image4.png"></img></td></tr></table></div></li><li class="listitem"><p>Configure the instance memory and CPU settings (2 core, 4 GB memory is the recommended setting, but for testing purposes a smaller machine will work). </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cf67fd96-d2cf-6b4a-f06c-635c0ec4bd88.png" style="max-width: 360px; " alt="image5.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="strong strong"><strong>Change</strong></span> under Boot disk.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-eaec3f6b-8be0-b70a-8833-4d4f520155b0.png" style="max-width: 360px; " alt="image6.png"></img></td></tr></table></div></li><li class="listitem"><p>Select <span class="strong strong"><strong>CentOS</strong></span> as the Operating System and <span class="strong strong"><strong>CentOS 7</strong></span> as the Version.  Leave the Boot disk type and Size as the defaults.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-6b7d55f5-68df-442c-d850-099fcde89ce9.png" style="max-width: 360px; " alt="image7.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="strong strong"><strong>Select</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:180px;
                            "><tr><td style="padding:0;"><img src="image/uuid-ddb84d10-88ec-4625-4284-db9f5edbb5c6.png" style="max-width: 180px; " alt="image8.png"></img></td></tr></table></div><p><span class="strong strong"><strong>Note:</strong></span> Steps 10-13 are optional if no other route to the internet is available.</p></li><li class="listitem"><p>Click <span class="strong strong"><strong>Management, security, disks, networking, sole tenancy</strong></span></p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a7004b01-ff21-4a6f-5606-151b0719bb92.png" style="max-width: 360px; " alt="image9.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="strong strong"><strong>Networking.</strong></span></p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-1add1116-5579-c39d-53b6-7ac700700f84.png" style="max-width: 360px; " alt="image10.png"></img></td></tr></table></div></li><li class="listitem"><p>Click the pencil icon to edit the network interface.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a8770941-36f1-ead3-68fd-73f6aad378f6.png" style="max-width: 360px; " alt="image11.png"></img></td></tr></table></div></li><li class="listitem"><p>Select your Network, Subnetwork, and specify an <span class="strong strong"><strong>Ephemeral</strong></span> external IP.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cc41cfba-9751-2667-d7b1-aa2856751d01.png" style="max-width: 360px; " alt="image12.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="strong strong"><strong>Create</strong></span> to start the instance creation.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-922625e1-5469-57ec-5ff8-ce9e7fff83ca.png" style="max-width: 450px; " alt="image13.png"></img></td></tr></table></div></li><li class="listitem"><p>Once the instance is available, connect to it by clicking <span class="strong strong"><strong>SSH</strong></span> under the Compute Engine page.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-5a8138de-1773-add8-157a-ca3644705815.png" style="max-width: 540px; " alt="image14.png"></img></td></tr></table></div></li><li class="listitem"><p>Run the following command in the SSH session to download and install the necessary components for the Publisher.  This may take about 10 minutes.
</p><pre class="programlisting">curl https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/generic/bootstrap.sh | sudo bash; sudo su - $USER; exit</pre></li><li class="listitem"><p>At the end of this process, you have a fully functional Netskope publisher and can register it with Netskope.</p></li><li class="listitem"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-2762e715-3ccf-ea99-1d42-87695e31fa95.png" style="max-width: 540px; " alt="image16.png"></img></td></tr></table></div></li><li class="listitem"><p>When requested, enter the Netskope registration token and click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-88637653-e667-273c-ecec-227caddbde41" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-20b191de-6f07-cb24-1a85-e952b64b7393"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-20b191de-6f07-cb24-1a85-e952b64b7393_body" data-parent="#UUID-20b191de-6f07-cb24-1a85-e952b64b7393"><div><div class="title"><h3 class="title">Configure a Publisher in CentosOS</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-20b191de-6f07-cb24-1a85-e952b64b7393_body"><div class="panel-inner"><p>These instructions assume that the CentOS user is configured and available on a default CentOS installation. Use an account other than root, and <span class="emphasis"><em>not</em></span> named <code class="literal">centos</code>. Otherwise, this configuration will not work</p><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Start with a CentOS 7-based Linux VM.</p></li><li class="listitem"><p>SSH into the CentOS-based system. </p></li><li class="listitem"><p>Run the command:</p><pre class="programlisting">curl https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/generic/bootstrap.sh | sudo bash; sudo su - $USER; exit</pre></li><li class="listitem"><p>Wait about 10 minutes.</p></li><li class="listitem"><p>At the end of this process, you have a fully functional Netskope publisher and can register it with Netskope.</p></li><li class="listitem"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="listitem"><p>When requested, enter the Netskope registration token and click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-5f5225d9-28f3-370e-242c-aa1fb3940882" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-268fa752-8b49-e971-f4c4-833692ee6fec"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-268fa752-8b49-e971-f4c4-833692ee6fec_body" data-parent="#UUID-268fa752-8b49-e971-f4c4-833692ee6fec"><div><div class="title"><h3 class="title">Configure a Publisher in Hyper-V</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-268fa752-8b49-e971-f4c4-833692ee6fec_body"><div class="panel-inner"><p>Download the <a class="link" href="https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/NetskopePrivateAccessPublisher.vhdx" target="_blank" rel="noopener">VHDX file</a>, and then perform these steps in the Hyper-V console.</p><p>If you want to validate the integrity of the VHDX, you can download the SHA hash from <a class="link" href="https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/NetskopePrivateAccessPublisher.vhdx.SHA256.txt" target="_blank" rel="noopener">here</a>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Launch the Microsoft Hyper-V Manager and select the Action <span class="bold bold"><strong>New &gt; Virtual Machine...</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-5b442cc9-77ab-67a1-0ce1-c3414dd00f58.png" style="max-width: 405px; " alt="image1.png"></img></td></tr></table></div></li><li class="listitem"><p>Enter a VM Name (like NPA Publisher), optionally an installation location, and then click <span class="bold bold"><strong>Next</strong></span>.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>Name the Publisher to describe its location and/or application use.</p></div><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a815e8e4-72c9-49e0-4b86-9c1adf4d8dff.png" style="max-width: 405px; " alt="image2.png"></img></td></tr></table></div></li><li class="listitem"><p>Leave <span class="bold bold"><strong>Generation 1</strong></span> selected and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-c7e49b27-0586-8392-a4a0-ec2b8061b66d.png" style="max-width: 405px; " alt="image3.png"></img></td></tr></table></div></li><li class="listitem"><p>Specify the amount of memory for the NPA Publisher (2048 is recommended for most use cases) and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-6e176f42-b2b5-6d48-058e-a62e0d44f7cb.png" style="max-width: 405px; " alt="image4.png"></img></td></tr></table></div></li><li class="listitem"><p>Select a network adapter to attach the NPA Publisher that has Internet access and click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-3571938a-54ae-3d11-20e2-f8828e603ac9.png" style="max-width: 405px; " alt="image5.png"></img></td></tr></table></div></li><li class="listitem"><p>Select <span class="bold bold"><strong>Use an existing virtual hard disk</strong></span> and then <span class="bold bold"><strong>Browse</strong></span> to the downloaded VHDX file. When finished, click <span class="bold bold"><strong>Next</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cb568cb0-6b5a-0736-8593-3a743c940ada.png" style="max-width: 405px; " alt="image6.png"></img></td></tr></table></div></li><li class="listitem"><p>Confirm the Hyper-V Wizard configuration options and click <span class="bold bold"><strong>Finish</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-edd72f59-b488-2760-e3a2-d1bc176c0a7f.png" style="max-width: 405px; " alt="image7.png"></img></td></tr></table></div></li><li class="listitem"><p>Now you can Start your NPA Publisher in Hyper-V.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-b4af5d06-9e83-dcf3-1c75-e35684adcbd9.png" style="max-width: 405px; " alt="image8.png"></img></td></tr></table></div></li><li class="listitem"><p>Get the IP address provided by the Hyper-V Manager to SSH into a Publisher for Network Settings.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-8fa4e382-1cb9-a8b8-83c6-660d33047972.png" style="max-width: 405px; " alt="image9.png"></img></td></tr></table></div></li></ol></div><h4 id="UUID-268fa752-8b49-e971-f4c4-833692ee6fec_bridgehead-idm231931532066121" class="bridgehead">Register the Publisher</h4><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SSH into the Publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>).</p></li><li class="listitem"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="listitem"><p>When requested, enter the Netskope registration token, and then click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. Change this password as soon as possible to ensure a secure configuration.</p></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-50f2587b-041a-a3ac-f2e2-e90fa4b9d2db" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8_body" data-parent="#UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8"><div><div class="title"><h3 class="title">Configure a Publisher in VMWare ESXi</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-32b1a648-dee8-d2c1-3a66-68eb29949ba8_body"><div class="panel-inner"><p>The token you copied when creating a new publisher is needed to complete these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Download the OVA from the Publisher page in the Netskope UI. Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Publishers</strong></span> and click <span class="bold bold"><strong>Publisher OVA</strong></span> . </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:315px;
                            "><tr><td style="padding:0;"><img src="image/uuid-98d39551-5d1e-be32-1c82-bc5c61f86f75.png" style="max-width: 315px; " alt="PublisherOVAlink.png"></img></td></tr></table></div></li><li class="listitem"><p>If you want to validate the integrity of the OVA, you can download the SHA hash from <a class="link" href="https://s3-us-west-2.amazonaws.com/publisher.netskope.com/latest/NetskopePrivateAccessPublisher.ova.SHA256.txt" target="_blank" rel="noopener">here</a>.</p></li><li class="listitem"><p>Install this OVA into your ESXi machine.</p></li><li class="listitem"><p>SSH into the publisher (default username: <code class="literal">centos</code>, default password: <code class="literal">centos</code>)</p></li><li class="listitem"><p>When prompted for a menu choice, select <span class="bold bold"><strong>Register</strong></span>.</p></li><li class="listitem"><p>When requested, enter the Netskope registration token and click <span class="bold bold"><strong>Enter</strong></span>.</p></li></ol></div><p>After you have deployed the Publisher, the default login is set to <code class="literal">centos</code> with a default password of <code class="literal">centos</code>. This password should be changed as soon as possible to ensure a secure configuration.</p></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-8a8ba83c-824b-2846-4790-4d3ae1ff9b2a" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-b7c2da55-e806-474a-d8d9-c56d603515e5"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-b7c2da55-e806-474a-d8d9-c56d603515e5_body" data-parent="#UUID-b7c2da55-e806-474a-d8d9-c56d603515e5"><div><div class="title"><h3 class="title">Enable SNMP on a Publisher</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-b7c2da55-e806-474a-d8d9-c56d603515e5_body"><div class="panel-inner"><p>This topic explains how to enable SNMP on a Publisher and edit the firewall to allow external monitoring.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Connect to a Publisher using SSH and login.</p></li><li class="listitem"><p>On the menu, select <code class="literal">5</code> and exit to the CLI.</p></li><li class="listitem"><p>Install SNMP and snmp-utils.</p><pre class="programlisting">sudo yum install net-snmp net-snmp-utils</pre></li><li class="listitem"><p>Configure the SNMP daemon to start after a device restart.</p><pre class="programlisting">sudo systemctl enable snmpd</pre></li><li class="listitem"><p>Check the snmpd service to make sure it is running.</p><pre class="programlisting">systemctl status snmpd.service</pre></li><li class="listitem"><p>Install your favorite file editing utility, in this nano.</p><pre class="programlisting">sudo yum install nano</pre></li><li class="listitem"><p>Edit the snmpd.conf file to change community strings and increase security.</p><pre class="programlisting">sudo nano /etc/snmp/snmpd.conf</pre></li><li class="listitem"><p>Restart the snmpd service.</p><pre class="programlisting">sudo systemctl restart snmpd.service</pre></li><li class="listitem"><p>Check the snmpd service to make sure it is running.</p><pre class="programlisting">systemctl status snmpd.service</pre></li><li class="listitem"><p>Verify the firewall service.</p><pre class="programlisting">sudo firewall-cmd --state running</pre></li><li class="listitem"><p>Determine what the default zone is.</p><pre class="programlisting">firewall-cmd --get-default-zone
public</pre></li><li class="listitem"><p>Determine what zones are active. Please note that if the publisher has not connected to an application yet the docker interface will not be present.</p><pre class="programlisting">firewall-cmd --get-active-zones
docker interfaces: docker0
public interfaces: ens32 virbr0</pre></li><li class="listitem"><p>Add the SNMP service to the public firewall zone.</p><pre class="programlisting">sudo firewall-cmd --zone=public --add-service=snmp
success</pre></li><li class="listitem"><p>Confirm that the SNMP service has been added to the public firewall zone.</p><pre class="programlisting">sudo firewall-cmd --list-all
public (active)
target: default
icmp-block-inversion: no
interfaces: ens32 virbr0
sources:
services: dhcpv6-client snmp ssh
ports:
protocols:
masquerade: no
forward-ports:
source-ports:
icmp-blocks:
rich rules:
rule family="ipv4" destination address="191.1.1.1/32" port port="784" protocol="tcp" accept
rule family="ipv4" destination address="191.1.1.1/32" port port="785" protocol="udp" accept</pre><pre class="programlisting">sudo firewall-cmd --zone=public --list-all
public (active)
target: default
icmp-block-inversion: no
interfaces: ens32 virbr0
sources:
services: dhcpv6-client snmp ssh
ports:
protocols:
masquerade: no
forward-ports:
source-ports:
icmp-blocks:
rich rules:
rule family="ipv4" destination address="191.1.1.1/32" port port="784" protocol="tcp" accept
rule family="ipv4" destination address="191.1.1.1/32" port port="785" protocol="udp" accept</pre></li></ol></div><p>Test access to SNMP. If it works, then add permanent.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Add the SNMP service to the firewall permanently.</p><pre class="programlisting">sudo firewall-cmd --zone=public --permanent --add-service=snmp
success</pre></li><li class="listitem"><p>Verify that the SNMP service has been added to the firewall permanently.</p><pre class="programlisting">sudo firewall-cmd --zone=public --permanent --list-services
dhcpv6-client snmp ssh</pre></li></ol></div></div></div></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-b1971b26-4f45-dcd7-99ea-e024922c91fe" data-time-modified="September 23, 2021" data-publication-date="" id="UUID-8006b505-79ec-88c3-9749-ef98c8ff4260"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-8006b505-79ec-88c3-9749-ef98c8ff4260_body" data-parent="#UUID-8006b505-79ec-88c3-9749-ef98c8ff4260"><div><div class="title"><h2 class="title" style="clear: both">Create a Private App</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-8006b505-79ec-88c3-9749-ef98c8ff4260_body"><p>Specify a private app for the Publisher to steer.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; App Definition</strong></span> and click <span class="bold bold"><strong>Private Apps</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:225px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cc75fe7b-d6a7-168c-7ac9-a6fd0d9d15c8.png" style="max-width: 225px; " alt="PrivateApps.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>New Private App</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-95efa032-35be-222c-9f60-d085f18ff66a.png" style="max-width: 360px; " alt="NewPrivateApp1.png"></img></td></tr></table></div></li><li class="listitem"><p>Enter a meaningful app name in the Application Name field (like <code class="literal">jira</code>).</p></li><li class="listitem"><p>Enter the Host domain in the Host field (like <code class="literal">jira.site.io</code>). The Host field supports the following syntax: Host (<code class="literal">jira.site.io</code>). Up to 32 hosts can be added. </p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>Using a hostname is recommended. If an app needs to be accessible by hostname and IP address, enter each separately using the Add button.</p></div></li><li class="listitem"><p>Enter the app TCP or UDP port, port range, or ports and port ranges. For example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Enter a specific port: <code class="literal">80</code></p></li><li class="listitem"><p>Enter a specific port range: <code class="literal">1024-2048</code></p></li><li class="listitem"><p>Enter ports and port range(s): <code class="literal">22,80,443,1024-2048</code></p></li></ul></div></li><li class="listitem"><p>Click in the Publisher text field and select one or more Publishers from the dropdown list.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>For high-availability, add multiple publishers for each private app. Up to 16 Publishers can be used per app.</p></div></li><li class="listitem"><p>To have the Netskope Client send DNS requests for the specified hosts to the configured Publishers, enable the <span class="bold bold"><strong>Use Publisher DNS</strong></span> toggle.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save</strong></span>.</p></li></ol></div><p>Connecting the private app to the publisher may take several minutes. Make sure that you see the green icon <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-ad370354-9ef2-aaf8-7e76-a228d53bc436.png" alt="GreenCheckIcon.png"></img></span>for this private app before proceeding. If the badge is red, use the Troubleshooter feature or check your firewall rules before proceeding.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-8006b505-79ec-88c3-9749-ef98c8ff4260_section-5d42407bef763-idm46044739522944"><div class="titlepage"><div><div class="title"><h3 class="title">Troubleshoot a Private App</h3></div></div></div><p>To troubleshoot a private app:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Click <span class="bold bold"><strong>Troubleshoot</strong></span> on the Private Apps page.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-47f75877-afb3-6b9e-0c76-75a66d69c2b4.png" style="max-width: 540px; " alt="TroubleShooterButton.png"></img></td></tr></table></div></li><li class="listitem"><p>Select an option for these settings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Private App: Select an app from the dropdown list.</p></li><li class="listitem"><p>User and Device: Search for and select a user and device, or select one or more from the list.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-58bf762b-1d7a-91ca-2dbe-04a810076a07.png" style="max-width: 360px; " alt="TroubleShooter1.png"></img></td></tr></table></div></li></ul></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Troubleshoot</strong></span>. If the configuration is not correct, the troubleshooter will show what is not configured properly.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-0fc2df87-6848-b4fc-ce4c-e5f570a9cb89.png" style="max-width: 360px; " alt="TroubleShooter3.png"></img></td></tr></table></div><p>When the configuration is correct, the Troubleshooter will show all is working.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-0df667c4-f618-1cea-2fe8-f36bfa93e115.png" style="max-width: 360px; " alt="TroubleShooter2.png"></img></td></tr></table></div></li></ol></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-efa6a598-1417-cba0-1c51-1e5ebe2aad8a" data-time-modified="September 27, 2021" data-publication-date="" id="UUID-54972368-269e-8ed7-a647-11cc4193b340"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-54972368-269e-8ed7-a647-11cc4193b340_body" data-parent="#UUID-54972368-269e-8ed7-a647-11cc4193b340"><div><div class="title"><h2 class="title" style="clear: both">Configure Browser Access for Private Apps</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-54972368-269e-8ed7-a647-11cc4193b340_body"><p>Browser Access is an additional method through which users can access enterprise internal web applications over HTTP/HTTPS. Users can also access non HTTP/HTTPS internal applications using the Netskope Client.</p><h3 id="idm45527598857488" class="bridgehead">Prerequisites</h3><p>You must have an active Identity Provider (IdP) account and have privileges to modify settings in your IdP account that will direct traffic to Netskope.</p><p>Browser Access requires that the hostname in the originating HTTP request matches the hostname expected by the Application server.  Browser Access only supports HTTP/1.1, HTTP/2, and TLS 1.2. TLS 1.3 and HTTP/3 are not supported.</p><h3 id="idm45527598856720" class="bridgehead">Workflow</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem" id="UUID-54972368-269e-8ed7-a647-11cc4193b340_N1629938061962"><p><a class="link" href="index-en.html#UUID-54972368-269e-8ed7-a647-11cc4193b340_N1629938061962">Create a SAML Reverse Proxy account</a> in the Netskope UI, and then update your IdP account with the Netskope ACS URL and Audience URL.</p></li><li class="listitem"><p><a class="link" href="index-en.html#UUID-54972368-269e-8ed7-a647-11cc4193b340_section-idm4564738283382432546946365992" title="Enable Browser Access for a Private App">Enable Browser Access for a Private App</a>.</p></li><li class="listitem"><p><a class="link" href="index-en.html#UUID-54972368-269e-8ed7-a647-11cc4193b340_section-idm4587237161414432571137358671" title="Create a Real-time Protection Policy for Browser Access to Private Apps">Create a <span class="phrase">Real-time Protection</span> policy</a> to grant users browser access to Private Apps.</p></li></ol></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-54972368-269e-8ed7-a647-11cc4193b340_section-idm4583485505244832546839010289"><div class="titlepage"><div><div class="title"><h3 class="title">Create a SAML Account for Browser Access</h3></div></div></div><p>You will need your IdP SSO URL and certificate to complete these steps.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Log in to the Netskope UI.</p></li><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span></strong></span>and click <span class="bold bold"><strong>SAML</strong></span> (under Reverse Proxy).</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Add Account</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-bf2ef3b3-e84e-989a-f6cc-e44538139a9f.png" style="max-width: 405px; " alt="2.png"></img></td></tr></table></div></li><li class="listitem"><p>In the New Account window, enter a name for the account.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-07b18d5b-241a-2c2a-9fac-b779c8370890.png" style="max-width: 360px; " alt="ClientlessSAMLAcct.png"></img></td></tr></table></div></li><li class="listitem"><p>Select <span class="bold bold"><strong>Private Apps</strong></span> from the Application dropdown list.</p></li><li class="listitem"><p>Select and enter these parameters:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>IdP SSO URL: Enter your IdP SSO URL.</p></li><li class="listitem"><p>IdP Certificate: Enter your IdP certificate.</p></li></ul></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save and View Netskope Settings</strong></span> to see the URLs for this account. Copy the Browser Access ACS URL and Audience URL to use in your IdP account. Update your IdP account with these URLs before proceeding.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-b1ef8bad-afa1-3f8a-d253-57a4bfb15b04.png" style="max-width: 405px; " alt="ClientlessNetworkSettings.png"></img></td></tr></table></div></li></ol></div></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-54972368-269e-8ed7-a647-11cc4193b340_section-idm4564738283382432546946365992"><div class="titlepage"><div><div class="title"><h3 class="title">Enable Browser Access for a Private App</h3></div></div></div><p>These instructions are for new and existing Private Apps.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; App Definition</strong></span> and click <span class="bold bold"><strong>Private Apps</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:270px;
                            "><tr><td style="padding:0;"><img src="image/uuid-cc75fe7b-d6a7-168c-7ac9-a6fd0d9d15c8.png" style="max-width: 270px; " alt="PrivateApps.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>New Private App</strong></span> to create a new private app, or select an existing app (and jump to step 4).</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-436beb30-f18b-dcbe-c842-0edb048a4ee9.png" style="max-width: 360px; " alt="ClientlessNewPrivateApp.png"></img></td></tr></table></div></li><li class="listitem"><p>Enter a meaningful app name in the Application Name field.</p></li><li class="listitem"><p>Enable <span class="bold bold"><strong>Allow Browser Access</strong></span>.</p></li><li class="listitem"><p>Enter the Host domain in the Host field (like <code class="literal">jira.site.io</code>). The Host field supports the following syntax: Host (<code class="literal">jira.site.io</code>). Up to 32 hosts can be added. Next add a TCP port number.</p><p>After adding the hostname and port, the Public Host URL is displayed. This is the URL by which properly authenticated users can access the private app. You can copy the public host name by clicking the copy icon <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-2a74a972-9db2-a299-2a77-471bccb4cd08.png" alt="CopyIcon.png"></img></span>.</p></li><li class="listitem"><p>Select HTTP or HTTPS. For HTTPS, the private app must either use a certificate that is signed by a trusted certificate authority, or you must select the <a class="link linktextconsumer" href="/document/preview/168565#UUID-f23d3c02-60dc-3a3d-ce36-86473c293add" target="_blank">Trusted self-signed certificate</a> option. <span id="UUID-54972368-269e-8ed7-a647-11cc4193b340_N61521bf1b268e" class="linktextprovider linktextprovider" style="display:none !important;">Certificates</span></p><p></p><p>A Private App can be accessed via a browser in two ways: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Using the generated hostname from the Public Host field.</p></li><li class="listitem"><p>Creating a custom hostname and uploading a certificate and key pair for the private host. Click the Custom Hostname toggle, and then click Upload the Certificate to open a page to enter your certificate and key.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>You can use the public host name for your custom host name in your DNS system. Create a DNS record, select the CNAME type, and then add your public host name. You will need to upload the certificate and key for the custom host name. Click the Custom Hostname toggle, and then click Upload the Certificate to open a page to enter your certificate and key.</p></div></li><li class="listitem"><p>Click in the Publisher text field and select one or more Publishers from the dropdown list.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>For high-availability, add multiple publishers for each private app. Up to 16 Publishers can be used per app.</p></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save</strong></span>.</p></li></ol></div><p>Connecting the private app to the publisher may take several minutes. Make sure that you see the green icon <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-ad370354-9ef2-aaf8-7e76-a228d53bc436.png" alt="GreenCheckIcon.png"></img></span> for this private app before proceeding. If the badge is red, use the Troubleshooter feature or check your firewall rules before proceeding.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-54972368-269e-8ed7-a647-11cc4193b340_section-idm4587237161414432571137358671"><div class="titlepage"><div><div class="title"><h3 class="title">Create a <span class="phrase">Real-time Protection</span> Policy for Browser Access to Private Apps</h3></div></div></div><p>You need to create a <span class="phrase">Real-time Protection</span> policy in order to allow Browser Access to Private Apps. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Policies &gt; <span class="phrase">Real-time Protection</span></strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>New policy</strong></span> and select <span class="bold bold"><strong>Private App Access</strong></span>.</p></li><li class="listitem"><p>For Source, select the Users, OU, or Groups for which you want to grant access to the private app(s).</p></li><li class="listitem"><p>For Access Method, select <span class="bold bold"><strong>Browser Access</strong></span>. At least one Access Method must be defined, either Browser Access or Client. </p><p>If Browser Access is used, Client users will not be able to access Browser Access Private Apps. If Client is used, Client users and Browser Access users will have access to Private Apps. </p><p>If Access Method is not showing, click <span class="bold bold"><strong>Add Criteria</strong></span> to search for and select <span class="bold bold"><strong>Access Method</strong></span>, and then select <span class="bold bold"><strong>Browser Access</strong></span>.</p></li><li class="listitem"><p>For Destination, leave <span class="bold bold"><strong>Private App</strong></span> and select your private app from the dropdown list.</p></li><li class="listitem"><p>For Action, select <span class="bold bold"><strong>Allow</strong></span> to grant access. To deny access, select <span class="bold bold"><strong>Block</strong></span>. </p></li><li class="listitem"><p>Give the policy a name (like <code class="literal">Browser Access for JIRA</code>), and then click Email Notification to choose the <a class="link linktextconsumer" href="/document/preview/77500#UUID-f83c0c26-80e5-e020-afe7-366d7d580c9f" target="_blank">notification template</a>  for the policy. When finished, click <span class="bold bold"><strong>Save</strong></span>.<span id="UUID-54972368-269e-8ed7-a647-11cc4193b340_N61521bf1b443a" class="linktextprovider linktextprovider" style="display:none !important;">Policy Notification Templates</span></p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-1d59758b-eb0e-4378-da06-2c68c2a8a4cc.png" style="max-width: 405px; " alt="ClientlessRTpolicy.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Apply Changes</strong></span>.</p></li></ol></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-a75960bc-2406-f6c6-32d9-59efb24cee05" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-136c5ab6-8bd6-2f53-5f80-fe2823d95c93"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-136c5ab6-8bd6-2f53-5f80-fe2823d95c93_body" data-parent="#UUID-136c5ab6-8bd6-2f53-5f80-fe2823d95c93"><div><div class="title"><h2 class="title" style="clear: both">Steer Traffic for Private Apps</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-136c5ab6-8bd6-2f53-5f80-fe2823d95c93_body"><p>To steer traffic for private apps, you can add users or create a steering configuration that specifies an Organizational Unit (OU) or User Group.</p><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-b382b866-fccc-b5b2-2424-956d7565f10b" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-ae587274-a54f-2b83-e506-aa3f38f0097c"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-ae587274-a54f-2b83-e506-aa3f38f0097c_body" data-parent="#UUID-ae587274-a54f-2b83-e506-aa3f38f0097c"><div><div class="title"><h3 class="title">Create a Steering Configuration for an OU or User Group</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-ae587274-a54f-2b83-e506-aa3f38f0097c_body"><div class="panel-inner"><p>OUs or User Groups are specified in the <span class="phrase">Real-time Protection</span> policy that grants access to private apps. To add users individually, refer to <a class="xref" href="index-en.html#UUID-c95fbe46-bd20-bcf0-d3c0-86b9071ac362" title="Add Users"><span class="xreftitle">Add Users</span></a>.</p><p>If you do not already have a steering configuration that specifies the Organization Unit (OU) or User Group you want to steer to a private apps, follow these steps.</p><p>If you already have such a steering configuration, you can simply enable private apps for that steering configuration. For more details, refer to <a class="link" href="index-en.html#UUID-022b8dc6-595d-bc37-00d7-bf95cc918d23" title="Change Steering Configurations to Include Private Apps">Change Steering Configurations to Include Private Apps</a>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Steering Configuration</strong></span> and click <span class="bold bold"><strong>Create a New Configuration</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-61b3ba5d-edb3-0bc2-76f4-96d6455387da.png" style="max-width: 540px; " alt="NPAcreateSteeringConfig.png"></img></td></tr></table></div></li><li class="listitem"><p>In the New Configuration dialog box, enter and select the following settings:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Configuration Name: Enter a meaningful name for this steering configuration.</p></li><li class="listitem"><p>Applies To: Choose either an OU or User Group. The dropdown/search field allows you to select and search for an OU or User Group.</p></li><li class="listitem"><p>Traffic: Select <span class="bold bold"><strong>Cloud Apps Only</strong></span> or <span class="bold bold"><strong>All Web Traffic</strong></span>.</p></li><li class="listitem"><p>Status: Change to <span class="bold bold"><strong>Enabled</strong></span>.</p></li><li class="listitem"><p>Private Apps: Change to <span class="bold bold"><strong>Steer All Private Apps</strong></span>.</p></li></ul></div><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:5px;
                            "><tr><td style="padding:0;"><img src="image/uuid-62a5a663-c04f-4b14-37e5-369b84d27856.png" style="max-width: 5px; " alt="NPAaddSteeringConfig.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Save</strong></span>.</p></li></ol></div></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-1994a51f-d6c2-cec5-caca-8cee9616428e" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-022b8dc6-595d-bc37-00d7-bf95cc918d23"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-022b8dc6-595d-bc37-00d7-bf95cc918d23_body" data-parent="#UUID-022b8dc6-595d-bc37-00d7-bf95cc918d23"><div><div class="title"><h3 class="title">Change Steering Configurations to Include Private Apps</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-022b8dc6-595d-bc37-00d7-bf95cc918d23_body"><div class="panel-inner"><p>To update a steering configuration for private apps, follow these steps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Steering Configuration</strong></span>. Complete the following steps for each steering configuration that you want to steer to private apps. There are two methods:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you have just one Default steering configuration, you can use the <span class="bold bold"><strong>Edit</strong></span> button in the top right corner.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-e5de126c-6eae-8b48-bc06-e8cbbac4f2cc.png" style="max-width: 540px; " alt="NPAsteeringConfig.png"></img></td></tr></table></div></li><li class="listitem"><p>If you have multiple steering configurations, click the <span class="inlinemediaobject"><img style="max-width: 23px; max-height: 11px; " src="image/uuid-07edbcc6-d739-ae39-2bb5-a884220c1075.png" alt="MenuIcon.png"></img></span> icon on the right side of each configuration and select <span class="bold bold"><strong>Edit Configuration</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:180px;
                            "><tr><td style="padding:0;"><img src="image/uuid-26b4d83e-6748-ba64-0afc-04cc3294bb95.png" style="max-width: 180px; " alt="NPAsteeringEditConfig.png"></img></td></tr></table></div></li></ul></div></li><li class="listitem"><p>For Private Apps, change to <span class="bold bold"><strong>Steer All Private Apps</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-d0048377-2c46-6cd6-f760-63bd5051f150.png" style="max-width: 405px; " alt="NPAsteeringConfigEnable.png"></img></td></tr></table></div></li><li class="listitem"><p>Click <span class="bold bold"><strong>Done</strong></span>.</p></li></ol></div></div></div></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-62a518cd-f864-7695-3dc3-c85a7781952e" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_body" data-parent="#UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1"><div><div class="title"><h2 class="title" style="clear: both">Source IP Anchoring for an IdP with <span class="phrase">Netskope Private Access</span></h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_body"><p>This topic describes how to obtaining a dedicated IP address from Netskope for your environment.</p><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282755764842" class="bridgehead">Background</h3><p>Many organizations have been utilizing IP address <span class="phrase">allowlisting</span> on their corporate cloud apps in order to ensure additional security should a user's credentials be compromised by a malicious actor. This <span class="phrase">allowlisting</span> is inclusive of all egress IP addresses for your data centers and remote offices. Typically for remote users, a VPN connection is required to access private applications and also their corporate cloud applications.</p><p>With Netskope, the traffic flow changes when utilizing the Netskope Client. Because the Netskope Client encrypts its connections to the Netskope proxy, cloud applications and IdP providers no longer see the corporate egress IP addresses and instead see an IP addresses for Netskope’s POPs.</p><p>The preferred solution is to add Netskope’s POP IP addresses to your IP address <span class="phrase">allowlisting</span> for conditional access and employ multi-factor authentication (MFA) with your IdP provider. If you do not want to use MFA or open up access to your cloud applications to Netskope’s POP IP address ranges, the following is an alternative solution to preserving your dedicated IP addresses when accessing SaaS apps or web sites.</p><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282775414853" class="bridgehead">Solution</h3><p>Let’s assume you are using an IdP provider like Okta, and that you have only one datacenter for all of their traffic.</p><p>By default, all Okta traffic is steered to Netskope proxy. This method changes this default behavior. Instead of sending Okta traffic through the Netskope proxy, this method defines your Okta URL as a <span class="emphasis"><em>private application</em></span> inside of <span class="phrase">Netskope Private Access</span>.</p><p><span class="strong strong"><strong>Netskope Publisher</strong></span>: There are a couple of options. You could deploy a Publisher inside your existing corporate data center. All Publisher traffic would be seen as your existing egress IP address (1.1.1.1).</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-0b85afd1-6cfe-fa0f-4286-b7d3288a4937.png" style="max-width: 450px; " alt="image1.png"></img></td></tr></table></div><p>Another option is to determine where your Okta instance is located, and deploy a Publisher in AWS, GCP, or Azure within a region that is closer to Okta instance.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-b7b7192f-3588-96f8-006c-91701b54d95b.png" style="max-width: 450px; " alt="image2.png"></img></td></tr></table></div><p>Open up a Terminal/Command Shell and try pinging your tenant URL:</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-6d05e99c-f372-2f36-f58f-24ffc25bf490.png" style="max-width: 450px; " alt="image3.png"></img></td></tr></table></div><p>You can see in the response, this Okta tenant is located in US-West-2 Region inside of AWS. Since you're East Coast based, it would be better to deploy a Publisher in the US-West-2 Region of AWS so the Netskope Security Cloud can provide the most optimized path to Okta from wherever the remote user is located without having to route back to the east coast data center just to go to the west coast data center for Okta.</p><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282846926807" class="bridgehead">In AWS</h3><p>Go to the AWS console.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-354d8ce0-eea3-1e5a-804f-1d4cbda44e92.png" style="max-width: 450px; " alt="image4.png"></img></td></tr></table></div><p>Deploy the Publisher AMI image into the West region of AWS and make note of the Public IP Address. Best practice for a production deployment of a Publisher is to use an elastic IP address so that if the Publisher is rebooted, it will keep the IP address across reboots.</p><div class="literallayout"><p><span style="white-space: pre;"><span class="strong strong"><strong>Okta:</strong></span><a class="link" href="http://netskopepartners.okta.com" target="_blank" rel="noopener">netskopepartners.okta.com</a>
<span class="strong strong"><strong>Okta Location:</strong></span> AWS US-West-2 Region
<span class="strong strong"><strong>Customer Corporate Egress IP:</strong></span> 1.1.1.1
<span class="strong strong"><strong>Customer Location:</strong></span> East Coast
<span class="strong strong"><strong>Netskope Publisher Egress IP:</strong></span> 54.193.39.103 (US-West-2 Region)</span></p></div><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282849852268" class="bridgehead">In Netskope</h3><p>In your Netskope tenant, go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; App Definition</strong></span> and click on the <span class="bold bold"><strong>Private Apps</strong></span> tab.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-88c984c9-4c58-4ef2-24b5-606ae370bd2d.png" style="max-width: 360px; " alt="image5.png"></img></td></tr></table></div><p>Define the Okta URL as a Private Application and make it accessible in <span class="phrase">Real-time Protection</span> policy for Private Access.</p><p>This is going to force ONLY the Okta traffic to be sent via NPA publisher. The publisher ip address is an ip address that the customer is ‘renting’ from AWS and is <span class="strong strong"><strong>not shared</strong></span> by other customers.</p><p>Upon a successful login to the cloud application all of the cloud app traffic will be sent from the Netskope Client directly to Netskope proxy.</p><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282880342045" class="bridgehead">In Okta</h3><p>In Okta Administration, make sure you are IP <span class="phrase">allowlisting</span> ONLY your corporate data center’s egress IP address (1.1.1.1) and the NPA Publisher IP address (54.193.39.10). These are the only source IP addresses that the your Okta tenant will allow a successful login from (even if a malicious actors is on Netskope’s network has compromised credentials).</p><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282883561284" class="bridgehead">In Cloud Applications</h3><p>You should still allow Netskope’s POP IP addresses along with your corporate egress IPs.</p><p>A phased approach to <span class="phrase">allowlist</span> apps with Netskope IP ranges is outlined below.</p><h3 id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_bridgehead-idm232282891657603" class="bridgehead">Summary</h3><p>With the above configuration, if a malicious actor somehow obtains compromised credentials and am also a user of the Netskope Security Cloud, when attempting to access one of your corporate cloud applications, authentication will be redirected to Okta, but because the auth request is NOT coming from your Publisher or corporate egress IP address, a log in attempt will fail, even with valid credentials.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-24a3757c-9e2f-8b75-0844-33dd50a988c1_section-idm232282895867904"><div class="titlepage"><div><div class="title"><h3 class="title">Phased Approach for <span class="phrase">Allowlisting</span> Netskope IP Ranges</h3></div></div></div><p>This phased approach has been deployed by users that have IP <span class="phrase">allowlisted</span> around120 SaaS applications.</p><p><span class="bold bold"><strong>Phase 1</strong></span>: Bypass all of your 120 sanctioned apps in Netskope. Don't steer the apps until you <span class="phrase">allowlisted</span> the Netskope IP ranges in each SaaS app.  You will receive immediate visibility to ~2300 unsanctioned cloud applications, as well as all web site traffic, if you use <span class="phrase">Netskope Secure Web Gateway</span> in place of your existing SWG.</p><p><span class="bold bold"><strong>Phase 2</strong></span>: Add Netskope IP ranges to your sanctioned apps.  This doesn't have to be all at once - you could add our ranges in batches.</p><p><span class="bold bold"><strong>Phase 3</strong></span>: As you <span class="phrase">allowlist</span> the Netskope IP ranges to your SaaS apps, add sanctioned SaaS apps back to Netskope steering config so they pass through the NewEdge network for visibility, control, DLP, threat detection, etc.  Note - we purchased a /17 network so we have plenty of room for our future POPs that we'll be adding around the globe.  Once you add our ranges you should not have to adjust them again due to the public IP space we have.Continue until all of your 120 SaaS apps have the Netskope IP ranges added to their Allowed List.</p></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-3bd06500-aec3-2c60-d15e-fc232ad14e1b" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-c95fbe46-bd20-bcf0-d3c0-86b9071ac362"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-c95fbe46-bd20-bcf0-d3c0-86b9071ac362_body" data-parent="#UUID-c95fbe46-bd20-bcf0-d3c0-86b9071ac362"><div><div class="title"><h2 class="title" style="clear: both">Add Users</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-c95fbe46-bd20-bcf0-d3c0-86b9071ac362_body"><p>Add users that you want to have access to private apps. Users are specified in the <span class="phrase">Real-time Protection</span> policy that grants access.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt;Users</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Add Users</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-e96234a9-8e76-512a-a64f-051502ed3bf2.png" style="max-width: 360px; " alt="NPAaddUser.png"></img></td></tr></table></div></li><li class="listitem"><p>Add users by manually adding a comma-separated list or uploading a CSV file. By default an email invitation is sent to all new users once they are added.</p></li><li class="listitem"><p>When finished, click <span class="bold bold"><strong>Save</strong></span>.</p></li></ol></div><p>An email will be sent to the user that provides a downloadable file to install the Client.</p><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>This can alternatively be done by importing users from AD (via AD Importer).</p></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-61697fd2-dc5b-d5c4-0937-7d6186a61ac5" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-801ba342-0d24-4455-f69e-c6ee702415b2"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-801ba342-0d24-4455-f69e-c6ee702415b2_body" data-parent="#UUID-801ba342-0d24-4455-f69e-c6ee702415b2"><div><div class="title"><h2 class="title" style="clear: both">Create a <span class="phrase">Real-time Protection</span> Policy for Private Access</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-801ba342-0d24-4455-f69e-c6ee702415b2_body"><p>Private apps are not steered by default, so a user is not notified when that private app is inaccessible. Policies are required to log events and enable access to Users, Groups, or OUs. Use <span class="phrase">Real-time Protection</span> policies to:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Grant access to a private app for users, groups, or OUs.</p></li><li class="listitem"><p>Block access and notify the user(s) why access is denied.</p></li><li class="listitem"><p>Block access but provide instructions to gain access, such as contacting IT or upgrading a device.</p></li></ul></div><p>For a specific private app, you may want to have one policy that grants access for a defined set of users, and then use a second policy that blocks and notifies users who don't have access.</p><p>To create an <span class="phrase">Real-time Protection</span> policy for private apps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Policies &gt; <span class="phrase">Real-time Protection</span></strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>New policy</strong></span> and select <span class="bold bold"><strong>Private App Access</strong></span>.</p></li><li class="listitem"><p>For Source, select the Users, OU, or Groups for which you want to grant access to the private app(s).</p></li><li class="listitem"><p>For Destination, leave <span class="bold bold"><strong>Private App</strong></span> and select a private app from the dropdown list (like <code class="literal">JIRA</code>).</p></li><li class="listitem"><p>For Action, select <span class="bold bold"><strong>Allow</strong></span> to grant access. To deny access, select <span class="bold bold"><strong>Block</strong></span>. </p></li><li class="listitem"><p>Give the policy a name (like <code class="literal">Allow All Users to access JIRA</code>), and then click <span class="bold bold"><strong>Save</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>Apply Changes</strong></span>.</p></li></ol></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-4336a067-1cb0-fec0-7c40-f33d84443950" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-1d2386f6-c97d-0a2a-e95f-129aa3ae83a5"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-1d2386f6-c97d-0a2a-e95f-129aa3ae83a5_body" data-parent="#UUID-1d2386f6-c97d-0a2a-e95f-129aa3ae83a5"><div><div class="title"><h2 class="title" style="clear: both">Configure the Netskope Client for <span class="phrase">Netskope Private Access</span></h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-1d2386f6-c97d-0a2a-e95f-129aa3ae83a5_body"><p><span class="phrase">Netskope Private Access</span> requires the Netskope Client to be installed on a Windows, Mac, Android, or Chrome OS device. The Client steers private access application traffic to private access gateways. </p><div dir="ltr" class="important"><h3 class="title">Important</h3><p>When the Client detects an alternate steering method, like a GRE or IPSec tunnel, it disables the Client-based data tunnel (TLS tunnel) to the Netskope platform and therefore access to private apps. This configuration can be useful for disabling private app steering while on-premises.</p></div><p>The Netskope Client supports these operating systems:</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><colgroup><col style="width:15%;" align="left"></col><col style="width:35%;" align="left"></col><col style="width:50%;" align="left"></col></colgroup><thead><tr><th class="th leftcol" data-priority="1"><p>OS</p></th><th class="th leftcol" data-priority="1"><p>Versions</p></th><th class="th leftcol" data-priority="1"><p>Notes</p></th></tr></thead><tbody><tr><td class="td leftcol"><p>Microsoft Windows</p></td><td class="td leftcol"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Windows 7</p></li><li class="listitem"><p>Windows 8, Windows 8.1</p></li><li class="listitem"><p>Windows 10.0 (32-bit &amp; 64-bit), build 2004</p></li><li class="listitem"><p>Windows Server 2008 R2 (Windows NT 6.1)</p></li><li class="listitem"><p>Windows Server 2012 R2 (Windows NT 6.3)</p></li><li class="listitem"><p>Windows Server 2016</p></li><li class="listitem"><p>Windows Server 2019</p></li></ul></div></td><td class="td leftcol"><p>Supported under special consideration. For more information, refer to <a class="link" href="https://support.netskope.com/hc/en-us/articles/360018764394-General-Reminder-Netskope-Client-EOL-End-of-Life-on-Windows-7" target="_blank" rel="noopener">Windows 7 EOL</a>.</p></td></tr><tr><td class="td leftcol"><p>Apple macOS</p></td><td class="td leftcol"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>10.8 (Mountain Lion)</p></li><li class="listitem"><p>10.9 (Mavericks)</p></li><li class="listitem"><p>10.10 (Yosemite)</p></li><li class="listitem"><p>10.11 (El Capitan)</p></li><li class="listitem"><p>10.12 (Sierra)</p></li><li class="listitem"><p>10.13 (High Sierra)</p></li><li class="listitem"><p>10.14 (Mojave)</p></li><li class="listitem"><p>10.15 (Catalina)</p></li></ul></div></td><td class="td leftcol"><p>(See this <a class="link" href="https://support.netskope.com/hc/en-us/articles/115012802928-macOS-High-Sierra-and-Netskope-Client-" target="_blank" rel="noopener">KB article</a> for macOS High Sierra support)macOS High Sierra introduced a change in the Kernel Extensions loading (<a class="link" href="https://developer.apple.com/library/archive/technotes/tn2459/_index.html" target="_blank" rel="noopener">Apple Technical Note TN2459</a>) which requires the end user of the device to approve loading any third-party kernel extensions such as Netskope.</p></td></tr><tr><td class="td leftcol"><p>Google Android</p></td><td class="td leftcol"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>5.0 and above.</p></li><li class="listitem"><p>Android for Work (also known as Android Enterprise) is required if the clients are deployed using third-party MDM services.</p></li></ul></div></td><td class="td leftcol"><p>Please read <a class="link" href="https://support.netskope.com/hc/en-us/articles/360000925594-Netskope-Android-Support" target="_blank" rel="noopener">KB article</a> about Android 7.0 support.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>When using Android for Work, only the apps managed by Android for Work is steered by the Netskope Client.</p></div></td></tr><tr><td class="td leftcol"><p>Google Chrome OS</p></td><td class="td leftcol"><p>53.0 and above</p></td><td class="td leftcol"><p></p></td></tr></tbody></table></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Starting with release 75, the Netskope Client supports Windows devices running on ARM64 architecture.</p></div><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-b6b7a9b6-12e3-c49f-2700-6eb9437c43ca" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-40bc3ad4-26b4-3828-e448-c3892f4445e3"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-40bc3ad4-26b4-3828-e448-c3892f4445e3_body" data-parent="#UUID-40bc3ad4-26b4-3828-e448-c3892f4445e3"><div><div class="title"><h3 class="title">Install the Client for Private Access</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-40bc3ad4-26b4-3828-e448-c3892f4445e3_body"><div class="panel-inner"><p>After adding users, the users receive an email with links to download the Client. The user must choose either the macOS, Windows, Android, or Chrome OS Client download (iOS). You must install version 65 of later of the Netskope Client to use <span class="phrase">Netskope Private Access</span>. </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>After receiving the email, the user needs to click the link for the appropriate platform for their device.</p></li><li class="listitem"><p>When the download is complete, the user can install the Client.</p></li><li class="listitem"><p>The Client should automatically start and show that it's connected.</p></li></ol></div><div dir="ltr" class="tip"><h3 class="title">Tip</h3><p>The Client will register with the <span class="phrase">Netskope Private Access</span> backend and will be ready to steer traffic.</p></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-40bc3ad4-26b4-3828-e448-c3892f4445e3_section-5d1ab9c7a79a3-idm45315554795952"><div class="titlepage"><div><div class="title"><h4 class="title">Verify the Client is Steering a Private App</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open a browser (or another client application).</p></li><li class="listitem"><p>Try to access the private app. (Example: <code class="literal">http://jira.site.io:22</code>).</p></li><li class="listitem"><p>The user should be able to access it.</p></li><li class="listitem"><p>Disable the Netskope Client.</p></li><li class="listitem"><p>Try to access the private app. The user shouldn't be able to access it.</p></li><li class="listitem"><p>Enable the Netskope Client again.</p></li></ol></div></section></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-d3060d7c-55a0-10a6-b745-b7a7e82f3711" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-3f587180-4a1e-2ea9-0105-e4d1104cd29f"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-3f587180-4a1e-2ea9-0105-e4d1104cd29f_body" data-parent="#UUID-3f587180-4a1e-2ea9-0105-e4d1104cd29f"><div><div class="title"><h3 class="title">View Private Access Status for Devices</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-3f587180-4a1e-2ea9-0105-e4d1104cd29f_body"><div class="panel-inner"><p>After the Netskope Client is installed and enabled on devices, you can check the status of each device.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Devices</strong></span>.</p></li><li class="listitem"><p>Click the gear icon <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-3a5dea01-eafd-ed76-bfd0-61101d1771fa.png" alt="GearIcon.png"></img></span> on the far right of the table header row.</p></li><li class="listitem"><p>Enable the <span class="bold bold"><strong>Private Access Status</strong></span> checkbox.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-81f4fd59-dfa0-625c-b7c5-4605581ddcc7.png" style="max-width: 405px; " alt="DevicesCustomColumns.png"></img></td></tr></table></div></li></ol></div><p>The status of each device is now shown on the page.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-95084efc-2b0f-8ab1-6484-76de8ea20a8f.png" style="max-width: 405px; " alt="NPADeviceStatus.png"></img></td></tr></table></div></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-e56ad44e-988f-82ea-69af-fb75fff40bfa" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-22c00d0e-0477-b810-d0f9-e4f6abe75b27"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-22c00d0e-0477-b810-d0f9-e4f6abe75b27_body" data-parent="#UUID-22c00d0e-0477-b810-d0f9-e4f6abe75b27"><div><div class="title"><h3 class="title">Use Client Re-authentication</h3></div></div></a></div></div><div class="panel-body collapse" id="UUID-22c00d0e-0477-b810-d0f9-e4f6abe75b27_body"><div class="panel-inner"><p>The Netskope Client can require a user to re-authenticate for access to private apps. IdP federation must be configured to use this feature. The Client IdP prerequisites are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>All users must be authenticated via the IdP and imported into your Netskope tenant. The email address of the user must be available for all IdP authenticated users.</p></li><li class="listitem"><p>Configure your IdP in the <span class="bold bold"><strong>Settings</strong></span> &gt; <span class="bold bold"><strong><span class="phrase">Security Cloud Platform</span></strong></span> &gt; <span class="bold bold"><strong>SAML (<span class="emphasis"><em>under the Forward Proxy section</em></span> )</strong></span> in your Netskope Tenant UI. See <a class="xref linktextconsumer" href="/document/preview/77812#UUID-505c6f3a-c311-9a06-ecdf-2ca19c16bf8d" target="_blank">SAML Forward Proxy</a> for details.<span id="UUID-22c00d0e-0477-b810-d0f9-e4f6abe75b27_N61521bf1b657e" class="linktextprovider linktextprovider" style="display:none !important;">SAML Forward Proxy</span></p></li><li class="listitem"><p>Ensure that the URL <code class="literal">nsauth-<span class="emphasis"><em>&lt;tenantname&gt;</em></span>.goskope.com</code> is publicly accessible. If not, please reach out to Netskope support.</p></li></ul></div><p>To configure Client re-authentication:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Netskope Client &gt; Devices</strong></span> and click <span class="bold bold"><strong>Client Configuration</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:405px;
                            "><tr><td style="padding:0;"><img src="image/uuid-a63f74ab-e4a8-78ea-f6e2-0a270df6b770.png" style="max-width: 405px; " alt="PeriodicReAuth.png"></img></td></tr></table></div></li><li class="listitem"><p>Enable the <span class="bold bold"><strong>Periodic re-authentication for Private Apps</strong></span> checkbox.</p></li><li class="listitem"><p>Select a time period from the Interval dropdown list for how often you want re-authentication to occur.</p></li><li class="listitem"><p>To allow a user time to re-authenticate after the specified interval time has expired, enable the <span class="bold bold"><strong>Grace Period</strong></span> checkbox and enter the amount of minutes. The grace period must be less than the interval.</p></li></ol></div><p>The Netskope Client menu shows when re-authentication is enabled, and allows you to re-authenticate by clicking that option on the menu.</p><p>If the interval expires, the Netskope Client prompts the IdP sign-in window for re-authentication. If the grace period expires, the Netskope Client disconnects from <span class="phrase">Netskope Private Access</span>.</p></div></div></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-edd19758-99bb-5d35-4c9f-263ed45e05d3" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-07ce7dea-2d3a-894a-31d6-b6a3714d57ec"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-07ce7dea-2d3a-894a-31d6-b6a3714d57ec_body" data-parent="#UUID-07ce7dea-2d3a-894a-31d6-b6a3714d57ec"><div><div class="title"><h2 class="title" style="clear: both">View Events and Alerts for Private Apps</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-07ce7dea-2d3a-894a-31d6-b6a3714d57ec_body"><p>SkopeIT provides insight into private app usage by tracking network events and alerts. In addition to SkopeIT, network events and alerts can be compiled into a report. When creating a report, click <span class="bold bold"><strong>Add Widget</strong></span> and select <span class="bold bold"><strong>Network</strong></span> or <span class="bold bold"><strong>Alert</strong></span> from the Query dropdown list.</p><h3 id="idm45527598503504" class="bridgehead">Network Events</h3><p>Network events enable you to monitor private app traffic and view relevant details, like who has access to what, from where, and for how long. All Network Events apply to private apps. To view Network Events, go to <span class="bold bold"><strong>SkopeIT™ &gt; Events &gt; Network Events</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:450px;
                            "><tr><td style="padding:0;"><img src="image/uuid-fdea5569-7d0e-d368-751e-c39bc1f6a012.png" style="max-width: 450px; " alt="NetworkEventsPage.png"></img></td></tr></table></div><p>To view detailed information about a network event, click the <span class="inlinemediaobject"><img style="max-width: 11px; max-height: 11px; " src="image/uuid-40f31eb6-1114-088e-6353-8da0c6672f15.png" alt="ViewIcon.png"></img></span> icon.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:225px;
                            "><tr><td style="padding:0;"><img src="image/uuid-6251357c-2b25-af91-5527-f8b29b1c7082.png" style="max-width: 225px; " alt="NetworkEventDetails.png"></img></td></tr></table></div><h3 id="UUID-07ce7dea-2d3a-894a-31d6-b6a3714d57ec_bridgehead-5d1c091d1578b-idm45839550481136" class="bridgehead">Alerts</h3><p>Alerts enable you to verify if any private app policy violations occur, which happen when an attempt to access a private app is explicitly denied by a policy. For more details about using the Alerts page, go to <a class="xref linktextconsumer" href="/document/preview/77529#UUID-70bf2414-c63b-e27c-b9ad-c5527a5cdeaa" target="_blank">Alerts</a>.<span id="UUID-07ce7dea-2d3a-894a-31d6-b6a3714d57ec_N61521bf1b84cc" class="linktextprovider linktextprovider" style="display:none !important;">Alerts</span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>SkopeIT™ &gt; Events &gt; Alerts</strong></span>.</p></li><li class="listitem"><p>Click <span class="bold bold"><strong>+Add Filter</strong></span>, select <span class="bold bold"><strong>Traffic Type &gt; Private Applications</strong></span>, and then click <span class="bold bold"><strong>Apply</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-45f251b1-19ba-8d3a-c3b3-6cb441275f59.png" style="max-width: 360px; " alt="AlertsPageFilter.png"></img></td></tr></table></div></li></ol></div></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-ed4c1392-d3de-ab39-71d3-ce2a8ded0e04" data-time-modified="September 22, 2021" data-publication-date="" id="UUID-3632ed91-8e9f-ab9f-5d93-85d9dba80c40"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-3632ed91-8e9f-ab9f-5d93-85d9dba80c40_body" data-parent="#UUID-3632ed91-8e9f-ab9f-5d93-85d9dba80c40"><div><div class="title"><h2 class="title" style="clear: both">Change Publishers for Private Apps</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-3632ed91-8e9f-ab9f-5d93-85d9dba80c40_body"><p>After assigning private apps to specific Publishers, you can change one or more Publishers simultaneously. The Private Apps page enables you to change private apps assignments in bulk. For example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Change one or more publishers for private apps.</p></li><li class="listitem"><p>Quickly migrate existing private apps to a new publisher.</p></li><li class="listitem"><p>Disconnect private apps before deleting a publisher.</p></li></ul></div><p>To change publishers for private apps:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; App Definition &gt; Private Apps</strong></span>.</p></li><li class="listitem"><p>Select one or more private app checkboxes and click <span class="bold bold"><strong>Change Publishers</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:540px;
                            "><tr><td style="padding:0;"><img src="image/uuid-479ea0e8-fc41-cb0d-1e5c-ab35afc15b12.png" style="max-width: 540px; " alt="ChangePublisher.png"></img></td></tr></table></div></li><li class="listitem"><p>The selected private apps are shown in the Bulk Change Publisher dialog box. Click in the Publisher text field and select one or more publisher in the dropdown list, and then click <span class="bold bold"><strong>Save</strong></span>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:360px;
                            "><tr><td style="padding:0;"><img src="image/uuid-51c64e8c-fc2c-804c-c9a2-1e46259abc58.png" style="max-width: 360px; " alt="BulkChangePublishers.png"></img></td></tr></table></div></li></ol></div><p>In addition to changing publishers for private apps, this page enables you to delete one or more private apps. Select one or more private app checkboxes, and click <span class="bold bold"><strong>Delete</strong></span>, and then click <span class="bold bold"><strong>Delete</strong></span> again to confirm. If the private app being deleted is specified in a policy, a message box informs you of this factor and you'll need to remove it from the policy in order to delete the private app.</p></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-81f2febd-1a3a-d860-a866-e976424b8bd8" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-5cd135ae-14de-7692-9546-8f1aef7c9a2e"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-5cd135ae-14de-7692-9546-8f1aef7c9a2e_body" data-parent="#UUID-5cd135ae-14de-7692-9546-8f1aef7c9a2e"><div><div class="title"><h2 class="title" style="clear: both">Upgrade the Publisher</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-5cd135ae-14de-7692-9546-8f1aef7c9a2e_body"><p>This topic describes how to upgrade one or more Publishers. Using at least a pair of Publishers for each private app is recommended so they can provide high-availability access. Before upgrading all Publishers, upgrade a test Publisher first, and then proceed to the other Publishers.</p><p>To use these instructions, identify the Publishers that you want to upgrade.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-5cd135ae-14de-7692-9546-8f1aef7c9a2e_section-idm231750034627839"><div class="titlepage"><div><div class="title"><h3 class="title">Upgrading Publishers</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SSH into the Publisher you want to upgrade.</p></li><li class="listitem"><p>On the Publisher option menu, select <span class="bold bold"><strong>Upgrade</strong></span>, and then select <span class="bold bold"><strong>1</strong></span> to initiate the upgrade. The upgrade should take around a minute.</p></li><li class="listitem"><p>In the Netskope UI, go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; Publishers</strong></span>. Locate the Publisher you just upgraded on the Publishers page to confirm it has a <span class="emphasis"><em>Connected</em></span> status.</p></li></ol></div><p>Repeat these steps for every Publisher you are using to access private apps.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-5cd135ae-14de-7692-9546-8f1aef7c9a2e_section-idm231750435290632"><div class="titlepage"><div><div class="title"><h3 class="title">Changing Publishers during an Upgrade</h3></div></div></div><p>If the upgraded publisher has not re-established access, re-assign the app(s) to a different Publisher.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>To change Publisher assignments in the Netskope UI, go to <span class="bold bold"><strong>Settings &gt; <span class="phrase">Security Cloud Platform</span> &gt; App Definition &gt; Private Apps</strong></span>. Select the checkboxes for the apps assigned to the Publisher and click <span class="bold bold"><strong>Change Publisher</strong></span>.</p></li><li class="listitem"><p>Click in the Publishers text field, and then select a different Publisher from the list. When finished, click <span class="bold bold"><strong>Save</strong></span>.</p></li><li class="listitem"><p>Locate the Publisher you just assigned on the Publishers page to confirm it has a <span class="emphasis"><em>Connected</em></span> status. If not, contact Netskope <a class="link" href="mailto:support@netskoppe.com" target="_blank">Support</a> to stop the upgrade process and ask for assistance.</p></li></ol></div></section></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section accordion accordion" data-origin-id="UUID-7cc71dc0-ed3d-7ff9-9f6f-759ad1e73b1a" data-time-modified="September 16, 2021" data-publication-date="" id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3"><div class="accordion-icon"></div><div class="panel panel-default"><div class="panel-heading"><div class="titlepage"><a data-toggle="collapse" href="#UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_body" data-parent="#UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3"><div><div class="title"><h2 class="title" style="clear: both">Private Access FAQs</h2></div></div></a></div></div><div class="panel-body collapse" id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_body"><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4525808317334432479152253208" class="bridgehead">What is the Netskope Private Access Gateway?</h3><p>The Private Access Gateway provides both control and transport functionality. It delivers application authentication and authorization info to the Client, including the SRP (application authorization and routing info) and also serves as the first entry to the Netskope NewEdge infrastructure for Netskope Private Access. It transports all Private Application traffic following authentication.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419563326431580448020195" class="bridgehead">What services and polling interval does a Publisher use to check if a private app/service is available?</h3><p>The polling interval is about 1 minute.</p><p>The Publisher will try to connect to a configured port on a private app to check whether the private app is reachable. </p><p>Important factors to consider:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The Publisher works best when you define private apps is defined by hostname (e.g., <code class="literal">jira.globex.io</code>) and port (e.g., <code class="literal">8080</code>).</p></li><li class="listitem"><p>When an app is specifies with multiple ports or a port range, the Publisher will use only the first port from the list or range to check availability. For example, port range 70-90 will return unreachable, even if you are listening on port 80, because the only port that will be checked is 70 (this is a known limitation).</p></li><li class="listitem"><p>If an app definition specifies multiple ports and/or port ranges, it will check whether any of them is reachable. For example, if you specify 22, 70-90, if it’s able to reach port 22, it will mark the app as reachable.</p></li><li class="listitem"><p>The Publisher can't check reachability for private apps that are defined with a wildcard (<code class="literal">*.globex.io</code>) or CIDR block (10.0.1.0/24). It also does not check reachability of apps with port ranges defined (3305-3306).</p></li></ul></div><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232294863011197" class="bridgehead">How do I return to the setup menu during a Publisher SSH session?</h3><p>From the <code class="literal">/home/centos</code> folder, enter <code class="literal">sudo ./npa_publisher_wizard</code>.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4480052139657631580458663308" class="bridgehead">Can Publisher connections be proxied/TLS terminated?</h3><p>No. The Publisher does not support explicit proxy. The Publisher does SSL pinning for the registration process and server-side certificate authentication against a specific certificate. </p><p>If a transparent SSL/TLS interception device is deployed inline, the destination needs to be whitelisted/bypassed <span class="phrase">allowlisted</span>/bypassed (<code class="literal">*.npa.goskope.com</code>).</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4480926664121632479137448506" class="bridgehead">How does Netskope  handle the connection of an application when the end user terminates a session?</h3><p>Netskope will terminate the end to end tunnel between the Publisher and the end application upon session termination in SSH and other TCP based flows.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419560809631580466705313" class="bridgehead">How do I SSH into the AWS Publisher?</h3><p>If deployed in AWS, you will assign the AMI a KeyPair.pem that you already have (or generate a new one) during the provisioning of the Publisher.</p><pre class="programlisting">ssh -i <span class="emphasis"><em>&lt;Path To Your KeyPair.pem file&gt;</em></span> centos@<span class="emphasis"><em>&lt;External IP Address of Publisher&gt;</em></span></pre><p><code class="literal">centos</code> is the default username for the Publisher. (Please notice that it's different from <code class="literal">ec2-user</code> ,which is the default username for Amazon AWS AMIs).</p><p>After successfully connecting via SSH to the publisher, you will be placed into an interactive CLI menu (below). You can choose option <code class="literal">3</code> to be placed into a normal UNIX CLI for additional troubleshooting. Go <a class="link" href="index-en.html#UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm448005214534403158047567491" title="What is a good method for troubleshooting accessibility issues to a private app/service behind a Publisher?">here</a> for troubleshooting tips. </p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:270px;
                            "><tr><td style="padding:0;"><img src="image/uuid-089a1dd3-215f-7b4a-a35f-c4951301e44f.png" style="max-width: 270px; " alt="image1.png"></img></td></tr></table></div><p>To get back to the interactive CLI menu after exiting, use <code class="literal">$ sudo ~/npa_publisher_wizard</code>.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4591571588313631580467781521" class="bridgehead">How do I SSH into the VMWare Publisher?</h3><pre class="programlisting">ssh centos@<span class="emphasis"><em>&lt;External IP Address of Publisher&gt;</em></span></pre><p>Default password: <code class="literal">centos</code></p><p>You will be required to change the password after first login.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419535668831580500359067" class="bridgehead">Do Publishers support Active-Active in the event there are multiple Publishers that have access to the same Private App?</h3><p>Publishers work in Active-Active mode. Active-Active mode enables higher throughput. Up to 16 publishers are supported in an Active-Active deployment per app. A round-robin algorithm is used to spread Netskope Clients across publishers.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419555515231580501629275" class="bridgehead">What happens if the Publisher registration token is corrupted during the initial deployment stage? Can I reset it locally at the Publisher?</h3><p>If the registration failed (for example, because you missed a digit from the registration code), you can SSH into the Publisher and provide a new registration token.</p><p>If the registration succeeded, but you decided to register the Publisher with another token, this is not officially supported and not advised. You will need to reinstall the Publisher.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4591566987361631580552471824" class="bridgehead">What are the requirements for deploying a Publisher into a VMware environment?</h3><p><span class="strong strong"><strong>General VM Requirements</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>2 CPUs</p></li><li class="listitem"><p>4GB RAM</p></li><li class="listitem"><p>8GB HDD space</p></li></ul></div><p><span class="strong strong"><strong>Networking Services</strong></span></p><p>Network:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Publishers should have network connectivity to your internal apps.</p></li><li class="listitem"><p>Publishers should have network connectivity (outbound) to the Internet to reach various Netskope services: configuration, gateways, upgrade, and other service endpoints.</p></li></ul></div><p>DNS: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Publishers should be able to resolve internal service names, for example: <code class="literal">myapp.example.com</code>.</p></li><li class="listitem"><p>Publishers should be able to resolve external service names (on the Internet), including the various Netskope services: configuration, gateways, upgrade, and other service endpoints.</p></li></ul></div><p>SSH:</p><p>You should be able to SSH into the Publisher from an internal desktop computer for basic administration tasks, such as passing the registration token to the Publisher during initial setup and troubleshooting any issues which might arise. A publisher cannot be used to connect to itself.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>If you deploy the Publisher VM into a network with DHCP services, it should pick up a valid networking configuration automatically, including an IP address, default gateway, and DNS.</p></li><li class="listitem"><p>If you deploy the publisher VM into a network without DHCP services, you must configure a static IP address, default gateway, and DNS.</p></li></ul></div></div><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419520492831580631704816" class="bridgehead">My 2nd (or subsequent) Publisher shows as Connected to an older publisher record in the Netskope UI. Now what?</h3><p>This could be a known issue. If you copied your new Publisher from an older (working) Publisher, then you've likely hit this issue. For example, creating an AMI image from a known working EC2 instance, and then launching a new instance from that AMI image, is an example of one way to hit this issue. </p><p>Please contact Netskope Support or create a new Publisher rather than copying an AMI or image.</p><p><span class="bold bold"><strong>Symptom of this issue</strong></span></p><p>In the screenshot below, the new publisher named "<span class="emphasis"><em>NPA Publisher 2</em></span> is actually the instance that's running in AWS. However, that Publisher is reporting its status, version and CN in the record of the original publisher named <span class="emphasis"><em>Master NSKP Endpoint Publisher.1</em></span>. (Note that the real AMI for the Publisher named <span class="emphasis"><em>Master NSKP Endpoint Publisher.1</em></span> is not running at the time this screenshot is taken.)</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:585px;
                            "><tr><td style="padding:0;"><img src="image/uuid-9334c720-eed9-bd25-88f5-32d01fcef3ed.png" style="max-width: 585px; " alt="image9.png"></img></td></tr></table></div><p><span class="bold bold"><strong>How to resolve this issue</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SSH in to the new publisher.</p></li><li class="listitem"><p>Enter the following command: <code class="literal">sudo rm -rf resources ; sudo shutdown -r now</code></p></li><li class="listitem"><p>You may need to restart the AMI from the AWS EC2 console.</p></li><li class="listitem"><p>After status checks are complete, refresh the Publisher status page in NSKP tenant.</p></li><li class="listitem"><p>Indication that you've cleared the bug is shown in the screenshot below:</p><div class="mediaobject"><img src="image/uuid-17410e3a-454e-1ba4-1861-daed0eb3aa92.png" style="" alt="image10.png"></img></div></li></ol></div><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232294882728505" class="bridgehead">How much bandwidth can a Publisher handle?</h3><p>An individual Publisher can handle approximately 160 Mbps of throughput, and can handle approximately 32,000 concurrent UDP orTCP connections.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm23229488699147" class="bridgehead">How much downtime should I expect during Publisher upgrades and/or failover to secondary Publisher?</h3><p>Single Publisher: 1-3 minutes as the system is upgraded until the Publisher comes up.</p><p>HA Publishers: Less than 5 seconds as the traffic switches to the other Publishers in the app definition.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232294934943251" class="bridgehead">How can I install a Publisher in Nutanix AHV or other CentOS based systems manually?</h3><p>Follow the instructions <a class="link" href="https://support.netskope.com/hc/en-us/articles/360043322153-Deploy-a-Publisher" target="_blank" rel="noopener">here</a> for configuring Azure or GCP.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232294947004524" class="bridgehead">Can I re-enroll an existing publisher?</h3><p>No. Re-enrolling a Publisher is not currently supported.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232305267731104" class="bridgehead">Can the Publisher utilize autoscaling functionality of the Cloud Service Provider if deployed in Azure, GCP, or AWS?</h3><p>No. Autoscaling a Publisher is not currently supported.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232305271153385" class="bridgehead">Can syslog be setup on a Publisher?</h3><p>Yes. The basic steps are:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SSH into the Publisher.</p></li><li class="listitem"><p>Select the menu option <span class="bold bold"><strong>Configure syslog</strong></span>.</p></li><li class="listitem"><p>Provide the syslog server host/IP and port.</p></li><li class="listitem"><p>The Publisher restarts to apply the settings, and sends these entries to the configured syslog server.</p></li></ol></div><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232294924184195" class="bridgehead">For Private Application <span class="phrase">allowlisting</span>, what IP Address is seen at the Private App level from NPA?</h3><p>The Private Application Host will see the connection as originating from the IP address of the Publisher that is connecting to it. There is no range, but depending upon the number of Publishers used to connect to the Private Application Host, you will need to <span class="phrase">allowlist</span> each of those IP addresses.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419560163231580450650825" class="bridgehead">What ports are required for the NPA to work correctly?</h3><p>These URLS will change in the future, but for now use the original domain configuration.</p><div class="informaltable table-responsive"><table class="informaltable table-bordered"><colgroup><col style="width:15%;" align="left"></col><col style="width:25%;" align="left"></col><col style="width:15%;" align="left"></col><col style="width:45%;" align="left"></col></colgroup><thead><tr><th class="th leftcol" data-priority="1"><p>Component</p></th><th class="th leftcol" data-priority="1"><p>URL</p></th><th class="th leftcol" data-priority="1"><p>Port</p></th><th class="th leftcol" data-priority="1"><p>Notes</p></th></tr></thead><tbody><tr><td class="td leftcol"><p>Client</p></td><td class="td leftcol"><p><code class="literal">gateway.npa.goskope.com</code></p><p>Prior to February 2020: <code class="literal">gateway.newedge.io</code></p></td><td class="td leftcol"><p>TCP 443 (HTTPS)</p></td><td class="td leftcol"></td></tr><tr><td class="td leftcol"><p>Publisher</p></td><td class="td leftcol"><p><code class="literal">stitcher.npa.goskope.com</code></p><p>Prior to February 2020: <code class="literal">stitcher.newedge.io</code></p></td><td class="td leftcol"><p>TCP 443 (HTTPS)</p><p>UDP 53 (DNS)</p></td><td class="td leftcol"><p>DNS is not required to be allowed outbound if there is a local network DNS server internally.</p></td></tr><tr><td class="td leftcol"><p>Client and Publisher</p></td><td class="td leftcol"><p><code class="literal">ns<span class="emphasis"><em>&lt;tenantid&gt;</em></span>.<span class="emphasis"><em>&lt;mp-name&gt;</em></span>.npa.goskope.com</code></p><p>Prior to February 2020: <code class="literal">ns-<span class="emphasis"><em>&lt;tenantid&gt;</em></span>.newedge.io</code></p><p>Contact your Netskope SE, TSM, or Support for your tenantid and mp-name.</p></td><td class="td leftcol"><p>TCP 443 (HTTPS)</p></td><td class="td leftcol"><p>This is needed one time only during the registration.</p><p>Example URL: <code class="literal">ns-1234.us-sv5.npa.goskope.com</code></p><p>MP-Name Variables:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">us-sv5</code> (SV5)</p></li><li class="listitem"><p><code class="literal">us-sjc1</code> (SJC1)</p></li><li class="listitem"><p><code class="literal">de-fr4</code> (FR4)</p></li><li class="listitem"><p><code class="literal">nl-am2</code> (AM2)</p></li></ul></div></td></tr></tbody></table></div><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4591571590964831580474084746" class="bridgehead">I'm not certain what TCP/UDP ports my application needs in order for it to work. What can I do?</h3><p>To connect users with applications/services, an NPA administrator must configure Private App policies within the Netskope UI in a few places. Here are the configuration options and details for known application/service types.</p><div class="informaltable table-responsive"><table class="informaltable frame-box rules-all"><thead><tr><th class="th" data-priority="1"><p>Application</p></th><th class="th" data-priority="1"><p>Protocol/Port</p></th><th class="th" data-priority="1"><p>Factors</p></th></tr></thead><tbody><tr><td class="td"><p>Web Traffic</p></td><td class="td"><p>TCP: 80, 443 (custom ports: 8080, etc.)</p><p>UDP: 80, 443</p></td><td class="td"><p>Google Chrome will use the QUIC protocol (HTTP/S over UDP) for some web applications, so duplicating the web browsing ports for both TCP and UDP can provide a performance improvement.</p></td></tr><tr><td class="td"><p>Secure Shell (SSH)</p></td><td class="td"><p>TCP: 22</p></td><td class="td"><p></p></td></tr><tr><td class="td"><p>Remote Desktop (RDP)</p></td><td class="td"><p>TCP: 3389</p><p>UDP: 3389</p></td><td class="td"><p>Some Windows RDP client apps (in particular, newer Windows 10 versions) will now prefer to use UDP:3389 to perform Remote Desktop connectivity.</p></td></tr><tr><td class="td"><p>Windows SQL Server</p></td><td class="td"><p>TCP: 1433, 1434</p><p>UDP: 1434</p></td><td class="td"><p>The default port for Windows SQL Server is 1433, though this can be customized in your environments. Refer to the Microsoft documentation for more details: <a class="link" href="https://docs.microsoft.com/en-us/sql/sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access?view=sql-server-2017" target="_blank" rel="noopener">Configure the Windows Firewall to Allow SQL Server Access</a>.</p></td></tr><tr><td class="td"><p>MySQL</p></td><td class="td"><p>TCP: 3300-3306, 33060</p><p>TCP: 33062 (for admin specific connections)</p></td><td class="td"><p>For general MySQL connection use cases, only port 3306 is required, but some customers may take advantage of the additional MySQL feature ports.</p><p>Netskope recommends using a port range for MySQL database private apps. MySQL will block connections from the NPA Publisher because it detects the reachability test as a potential attack. Using a range in the port configuration will result in the NPA Publisher performing a reachability check only on the first port in the range and therefore prevent MySQL from seeing this traffic and avoiding the port block. Refer to the MySQL documentation for more details: <a class="link" href="https://dev.mysql.com/doc/mysql-port-reference/en/mysql-ports-reference-tables.html" target="_blank" rel="noopener">MySQL Port Reference Tables</a>.</p></td></tr></tbody></table></div><p>For further specifics, please reach out to your Netskope Technical Success Manager or Sales Engineer for assistance.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4591571591788831580567026266" class="bridgehead">Can NPA tunnel protocols and ports outside the common ones listed above?</h3><p>Yes. NPA can tunnel apps outside of that list. NPA supports both the TCP and UDP protocols and all associated ports, with one notable exception: Netskope does not currently tunnel most DNS traffic, but we do support tunneling DNS SRV lookups over port 53. This is needed for service discovery, which is used in various Windows AD scenarios involving LDAP, Kerberos, etc.</p><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Sometimes applications like VoIP can be problematic. Not so much due to tunneling, but rather configuration. For example, applications that perform dynamic port allocation when establishing a connection can be problematic, because an admin cannot know which ports will be set up by the service end of the application in advance, so there's no way to know what ports to specify.</p></div><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232294920156882" class="bridgehead">What protocols and ports can NPA tunnel for Private Applications?</h3><p>NPA can support any client to server TCP and UDP traffic.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4557419551200031580585596475" class="bridgehead">Can NPA tunnel ICMP?</h3><p>No. NPA does not tunnel ICMP, only TCP and UDP. So you cannot <span class="emphasis"><em>ping</em></span> or <span class="emphasis"><em>traceroute</em></span> over NPA to test network connections. To quickly checkwhether NPA steering is working for a private application defined by FQDN,from a command prompt/Terminal window, enter: <code class="literal">nslookup<span class="emphasis"><em>&lt;FQDN_of_Private_App&gt;</em></span></code>. You can utilize tcping, psping, or other tcp based tools to test connectivity.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4591571584660831580589375515" class="bridgehead">Does NPA support tunneling connections established from a private app to a Client?</h3><p>No. NPA does not support protocols that establish connections from a private app to a Client. For example, FTP Active mode is not supported.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4601939290348832477462833833" class="bridgehead">How does the the Netskope Client check for configuration updates?</h3><p>The Client auto checks for updates as set by the administrator or end user.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm4635960489796832477464729199" class="bridgehead">Does the Client send state changes for updated authentication?</h3><p>Yes. The Client provides both periodic and dynamic updates, such as device classification, authentication status, and user to the controller for authorization information.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232305301069609" class="bridgehead">Does NPA support push operations or server to client initiated traffic?</h3><p>No. NPA does not support protocols that establish connections from a private app to a client.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232298203450819" class="bridgehead">Does NPA support VoIP or Soft Phones?</h3><p>VoIP requires usage of Session Border Controllers in order to traverse <a class="link" href="https://en.wikipedia.org/wiki/NAT_traversal_with_session_border_controllers" target="_blank" rel="noopener">NAT</a>. We’ve discovered that many customers do not have Session Border Controllers deployed as they are not required for enterprise VoIP deployments. However without them, VoIP support with NPA is not possible.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232298205919396" class="bridgehead">Does NPA publisher support Explicit Proxy environment?</h3><p>No. The NPA Publisher cannot be configured to connect to the Netskope Cloud via explicit proxy.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232298213542031" class="bridgehead">Many Netskope components such as the Publisher, CE (Cloud Exchange) , and CLS (Cloud Log Shipper) run on Docker containers. Can we run the other components on the Publisher VM?</h3><p>No. Running other containers on the Publisher virtual machine is not supported. This includes Netskope and third-party Docker containers.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232298208435035" class="bridgehead">Can the Publisher host have multiple interfaces across multiple networks?</h3><p>Yes. You can run the Publisher with more than one interface across multiple networks.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm232298210423074" class="bridgehead">Something is wrong on the Publisher and support is asking for logs. How do I collect logs from the Publisher?</h3><p>Logs can be collected from the Publisher by logging in and exiting the Publisher menu. The logs and resources folders can be found under the /home/centos directory. You can compact the two folders using a command such as <code class="literal">sudo tar-czf /tmp/netskopelogs /home/centos/logs/ /home/centos/resources/</code>.</p><p>You can then use either SCP or another method to download the compacted Netskope logs folder.</p><h3 id="UUID-0b551809-58e5-9853-7031-bb8eef0ba0e3_bridgehead-idm448005214534403158047567491" class="bridgehead">What is a good method for troubleshooting accessibility issues to a private app/service behind a Publisher?</h3><p>The first best option is to use the Troubleshooter. Click <span class="bold bold"><strong>Troubleshooter</strong></span> located on the Private Apps page.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:585px;
                            "><tr><td style="padding:0;"><img src="image/uuid-47f75877-afb3-6b9e-0c76-75a66d69c2b4.png" style="max-width: 585px; " alt="TroubleShooterButton.png"></img></td></tr></table></div><p>Choose the private app and device you are trying to access, and then click <span class="bold bold"><strong>Troubleshoot</strong></span>.</p><p>The Troubleshooter renders the list of executed checks, problems which may affect your configuration, and solutions for these problems.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:270px;
                            "><tr><td style="padding:0;"><img src="image/uuid-7760e98f-5b47-fec6-c6f6-d74fd26e4158.png" style="max-width: 270px; " alt="TroubleshooterResults.png"></img></td></tr></table></div><div dir="ltr" class="note"><h3 class="title">Note</h3><p>Troubleshooter has about a dozen of checks now. However, there are multiple additional conditions which could affect access (which Troubleshooter doesn't check). As a result, it is useful to be able to run some of the checks manually.</p></div></div></div></section></section><div class="footer-content"><div class="section-toc section-toc-after"><div class="section-toc-title">In this section<span class="section-toc-title-delimiter">: </span></div></div><div class="glossary-definitions"></div></div><footer></footer></div></article><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div id="email-feedback" class="no-voting toggle-feedback"><p><a href="mailto:techpubs@netskope.com?subject=Feedback%20for%20help%20topic%20%22Netskope%20Private%20Access%20User%20Guide%22&amp;body=%0A%09%09%09%09%0A%09%09%09%09%0A%09%09%09%09_______________________%0A%09%09%09%09%0A%09%09%09Please%20add%20your%20feedback%20above%20for%20topic%20%22Netskope%20Private%20Access%20User%20Guide%22%20in%20the%20publication%20%22Netskope%20Private%20Access%20User%20Guide%22."><i aria-hidden="true" class="fa fa-pencil-square-o feedbackicon"></i>Would you like to provide feedback? Just click here to suggest edits.</a></p></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"></li><li class="next"><a accesskey="n" id="header-navigation-next" class="pull-right next visible-lg visible-md" href="index-en.html#UUID-36a7ebab-9a8f-2c88-2d49-6dc19f1bba7d">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2021 Netskope </div><div class="date-modified"><span class="date-modified-text">Last modified: </span><span class="formatted-date">September 23, 2021</span></div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W56WJ8S" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
